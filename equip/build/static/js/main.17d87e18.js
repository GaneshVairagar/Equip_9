/*! For license information please see main.17d87e18.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,xe=null;function Se(e){if(e=mi(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),Ee(e.stateNode,e.type,t))}}function Te(e){_e?xe?xe.push(e):xe=[e]:_e=e}function Ie(){if(_e){var e=_e,t=xe;if(xe=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==xe)&&(Ne(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Pe=!1}function De(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,De.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,_t,xt,St=!1,Tt=[],It=null,Ct=null,Nt=null,At=new Map,Rt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){St=!1,null!==It&&Ft(It)&&(It=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Ht(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Dt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&Br(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Wt=null;function Gt(e,t,n,r){if(Wt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Yt=null;function $t(){if(Yt)return Yt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return En}var xn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(xn),Tn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Nn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Pn,Dn=l&&(!On||Pn&&8<Pn&&11>=Pn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Wn(e){Mr(e,0)}function Gn(e){if(G(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Yn="oninput"in document;if(!Yn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Yn="function"===typeof $n.oninput}Jn=Yn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Kn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Re(Wn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},Er={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return wr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var xr=_r("animationend"),Sr=_r("animationiteration"),Tr=_r("animationstart"),Ir=_r("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Or=Nr[Rr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(xr,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Dr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Dr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case xr:case Sr:case Tr:s=vn;break;case Ir:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Bn(u))if(Xn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=$t()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Hr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=jn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Un(e,t)?(e=$t(),Yt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Oe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Yr(){}var $r=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function Ei(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var xi={},Si=wi(xi),Ti=wi(!1),Ii=xi;function Ci(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ei(Ti),Ei(Si)}function Ri(e,t,n){if(Si.current!==xi)throw Error(a(168));_i(Si,t),_i(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ii=Si.current,_i(Si,e),_i(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Si),_i(Si,e)):Ei(Ti),_i(Ti,n)}var Di=null,Mi=!1,Fi=!1;function Ui(e){null===Di?Di=[e]:Di.push(e)}function ji(){if(!Fi&&null!==Di){Fi=!0;var e=0,t=gt;try{var n=Di;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Mi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ge(Ze,ji),i}finally{gt=t,Fi=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Hi=null,Ki=null;function Wi(){Ki=Hi=qi=null}function Gi(e){var t=Bi.current;Ei(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){qi=e,Ki=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(a(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Yi=null,$i=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Yi?Yi=[n]:Yi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;$i=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:$i=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ss|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hs(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hs(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Hs(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Ni(t)?Ii:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Ni(t)?Ii:Si.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,Ea="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function xa(e,t,n){ga[ka++]=wa,ga[ka++]=Ea,ga[ka++]=ba,ba=e;var r=wa;e=Ea;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,Ea=a+e}else wa=1<<a|n<<i|r,Ea=e}function Sa(e){null!==e.return&&(_a(e,1),xa(e,1,0))}function Ta(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,Ea=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ia=null,Ca=null,Na=!1,Aa=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ca=null,!0);default:return!1}}function Pa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function La(e){if(Na){var t=Ca;if(t){var n=t;if(!Oa(e,t)){if(Pa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Oa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ia=e)}}else{if(Pa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ia=e}}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ma(e){if(e!==Ia)return!1;if(!Na)return Da(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Pa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(Da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ia?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ia=null,Na=!1}function Ua(e){null===Aa?Aa=[e]:Aa.push(e)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ec(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&za(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=xc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case E:return(t=Ic(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=xc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Na&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&_a(i,v),c}function m(i,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Na&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=ja(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=xc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=ja(r,a,o),s.return=r,r=s)}return u(r);case E:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(D(o))return m(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Ha=Ba(!1),Ka={},Wa=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function Xa(e){if(e===Ka)throw Error(a(174));return e}function Ja(e,t){switch(_i(Qa,t),_i(Ga,e),_i(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Wa),_i(Wa,t)}function Ya(){Ei(Wa),Ei(Ga),Ei(Qa)}function $a(e){Xa(Qa.current);var t=Xa(Wa.current),n=se(t,e.type);t!==n&&(_i(Ga,e),_i(Wa,n))}function Za(e){Ga.current===e&&(Ei(Wa),Ei(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=$o,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Ss|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Ss|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function So(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,Io.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Hs(e,1,-1)}function Co(e,t,n){return n((function(){No(t)&&Hs(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return bo().memoizedState}function Po(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Do(e,t){return Po(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Fo(e,t){return Lo(4,2,e,t)}function Uo(e,t){return Lo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,jo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Wo(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?Xo(t,n):(Jo(e,t,n),null!==(e=Hs(e,r,n=Bs()))&&Yo(e,t,r))}function Go(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{Jo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Hs(e,r,n=Bs()))&&Yo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Xo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Yi?Yi=[t]:Yi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $o={readContext:Ji,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Ji,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Do((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Na){var n=Ea;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Ji,useCallback:Bo,useContext:Ji,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:Eo,useRef:Oo,useState:function(){return Eo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=Eo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Ji,useCallback:Bo,useContext:Ji,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:_o,useRef:Oo,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,Ps=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ls?Ls=new Set([this]):Ls.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ai(),pu(t),null;case 3:return r=t.stateNode,Ya(),Ei(Ti),Ei(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&(Xs(Aa),Aa=null))),pu(t),null;case 5:Za(t);var i=Xa(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Xa(Wa.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Qa.current),Xa(Wa.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(s=0!==(1&e.mode),e.tag){case 3:Jr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Jr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(Ei(eo),r=t.memoizedState,Na&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Aa&&(Xs(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ya(),null===e&&Vr(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(Ei(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Ye()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Wa.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&Sa(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return ju(e,t,i)}return t.flags|=1,(e=Ec(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,ju(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return xu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(Es,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(Es,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(Es,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Es,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var a=Ni(n)?Ii:Si.current;return a=Ci(t,a),Xi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&Sa(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function Su(e,t,n,r,i){if(Ni(n)){var a=!0;Pi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ci(t,c=Ni(n)?Ii:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),$i=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ti.current||$i?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=$i||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ci(t,s=Ni(n)?Ii:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),$i=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ti.current||$i?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=$i||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),ju(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ja(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Ua(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return La(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Sc(o,i,0,null),e=xc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Au(n),t.memoizedState=Nu,e):Ou(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Du(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(u=xc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Au(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Du(e,t,n,null);else if("$!"===r.data)t=Du(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Hs(e,i,-1))}ic(),t=Du(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ia=t,Na=!0,Aa=null,null!==n&&(ga[ka++]=wa,ga[ka++]=Ea,ga[ka++]=ba,wa=n.id,Ea=n.overflow,ba=t),(t=Ou(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}function Ou(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ec(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Lu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ec(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Ec(o,r):(r=xc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Du(e,t,n,r){return null!==r&&Ua(r),qa(t,e.child,null,n),(e=Ou(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ec(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ec(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){switch(Ta(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ei(Ti),Ei(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Ei(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(eo),null;case 4:return Ya(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Hu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Wu(t,n,a)}i=i.next}while(i!==r)}}function Xu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ju(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Yu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Wu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function $u(e){var t=e.alternate;null!==t&&(e.alternate=null,$u(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Yu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Yu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),Xu(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&Y(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":$(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Hu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Hu;){var i=Hu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Hu=i;null!==Hu;)s=(o=Hu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Hu=s):fs(i);for(;null!==a;)Hu=a,ss(a,t,n),a=a.sibling;Hu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Hu=a):cs(e)}}function cs(e){for(;null!==Hu;){var t=Hu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Xu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Ju(t)}catch(d){dc(t,t.return,d)}}if(t===e){Hu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Hu=n;break}Hu=t.return}}function ls(e){for(;null!==Hu;){var t=Hu;if(t===e){Hu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Hu=n;break}Hu=t.return}}function fs(e){for(;null!==Hu;){var t=Hu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Ju(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Ju(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Hu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Hu=u;break}Hu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,Es=wi(0),_s=0,xs=null,Ss=0,Ts=0,Is=0,Cs=null,Ns=null,As=0,Rs=1/0,Os=!1,Ps=null,Ls=null,Ds=!1,Ms=null,Fs=0,Us=0,js=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ys)?Ye():-1!==Vs?Vs:Vs=Ye()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==Vi.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Hs(e,t,n){if(50<Us)throw Us=0,js=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Ts|=t),4===_s&&Js(r,bs)),Ws(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Rs=Ye()+500,Mi&&ji())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}(Ys.bind(null,e)):Ui(Ys.bind(null,e)),ri((function(){0===ys&&ji()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(Vs=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&bs===t||(Rs=Ye()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Wi(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=xs,tc(e,0),Js(e,r),Ws(e,Ye()),n;if(6===t)Js(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=xs,tc(e,0),Js(e,r),Ws(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Js(e,r),(130023424&r)===r&&10<(t=As+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Js(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Ws(e,Ye()),e.callbackNode===n?Gs.bind(null,e):null}function Qs(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&Xs(t)),e}function Xs(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Js(e,t){for(t&=~Is,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Ys(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Ws(e,Ye()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=xs,tc(e,0),Js(e,t),Ws(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Ws(e,Ye()),null}function $s(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Rs=Ye()+500,Mi&&ji())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&ji()}}function ec(){ws=Es.current,Ei(Es)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Ya(),Ei(Ti),Ei(Si),ro();break;case 5:Za(r);break;case 4:Ya();break;case 13:case 19:Ei(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=Ec(e.current,null),bs=ws=t,_s=0,xs=null,Is=Ts=Ss=0,Ns=Cs=null,null!==Yi){for(t=0;t<Yi.length;t++)if(null!==(r=(n=Yi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Yi=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Wi(),io.current=$o,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,xs=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Ua(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ls||!Ls.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=$o,null===e?$o:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Ss)&&0===(268435455&Ts)||Js(gs,bs)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Wi(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Xe();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=Vu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ds||(Ds=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($r={focusedElem:e,selectionRange:n},Hu=t;null!==Hu;)if(e=(t=Hu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Hu=e;else for(;null!==Hu;){t=Hu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(E){dc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Hu=e;break}Hu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Hu=t;null!==Hu;){var n=(t=Hu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(x){dc(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Hu=n;else for(;null!==Hu;){t=Hu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(As=Ye())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Hu=n;for(var b=n.child;null!==b;){for(n=Hu=b;null!==Hu;){var w=(r=Hu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var E=r.stateNode;if("function"===typeof E.componentWillUnmount){var _=r.return;try{E.props=r.memoizedProps,E.state=r.memoizedState,E.componentWillUnmount()}catch(x){dc(r,_,x)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Hu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(x){dc(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,Hu=n;break}Hu=t.return}}}(e,r),hr($r),$r=null,e.current=r,us(r,e,i),Je(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ds&&(Ds=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ls=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ws(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Os)throw Os=!1,e=Ps,Ps=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===js?Us++:(Us=0,js=e):Us=0,ji()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Hu=e.current;null!==Hu;){var o=Hu,u=o.child;if(0!==(16&Hu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Hu=l;null!==Hu;){var f=Hu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Hu=h;else for(;null!==Hu;){var d=(f=Hu).sibling,p=f.return;if($u(f),f===l){Hu=null;break}if(null!==d){d.return=p,Hu=d;break}Hu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Hu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Hu=u;else e:for(;null!==Hu;){if(0!==(2048&(o=Hu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Hu=g;break e}Hu=o.return}}var k=e.current;for(Hu=k;null!==Hu;){var b=(u=Hu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Hu=b;else e:for(u=k;null!==Hu;){if(0!==(2048&(s=Hu).flags))try{switch(s.tag){case 0:case 11:case 15:Xu(9,s)}}catch(E){dc(s,s.return,E)}if(s===u){Hu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Hu=w;break e}Hu=s.return}}if(ys=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Ws(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ls||!Ls.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Ws(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Ye()-As?tc(e,0):Is|=n),Ws(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Ws(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ec(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return xc(n.children,i,o,t);case x:u=8,i|=8;break;case S:return(e=bc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=bc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=bc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case R:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function xc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=bc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Ac(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function Oc(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ws(e,r),e}function Pc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Hs(i,o,a))&&ra(e,i,o),o}function Lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Dc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),Fa();break;case 5:$a(t);break;case 1:Ni(t.type)&&Pi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(_i(eo,1&eo.current),null!==(e=ju(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return ju(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&xa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Si.current);Xi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Pi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Sa(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=zi(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ia=t,Na=!0,Aa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=ju(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return $a(t),null===e&&La(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&La(t),null;case 13:return Ru(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ti.current){t=ju(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Ji(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bu(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Pi(t)):e=!1,Xi(t,n),fa(t,r,i),da(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function jc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Lc(o);u.call(e)}}Pc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Lc(o);a.call(e)}}var o=Oc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Lc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zs((function(){Pc(t,s,n,r)})),s}(n,t,e,i,r);return Lc(o)}jc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Pc(e,t,null,null)},jc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Pc(null,e,null,null)})),t[fi]=null}},jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ws(t,Ye()),0===(6&ys)&&(Rs=Ye()+500,ji()))}break;case 13:var r=Bs();Zs((function(){return Hs(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Hs(e,134217728,Bs()),Mc(e,134217728))},Et=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Hs(e,n,t),Mc(e,n)}},_t=function(){return gt},xt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=$s,Ne=Zs;var Hc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Te,Ie,$s]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Wc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Oc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=$s,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var E=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(E,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(E);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,x=!1,S=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(x=!1,S=null)}}else x=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function P(e){S=e,x||(x=!0,_())}function L(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,L(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},706:function(e,t,n){"use strict";e.exports=n.p+"static/media/apple.fff081fef11854c89bf7.png"},43:function(e,t,n){"use strict";e.exports=n.p+"static/media/facebook.b1f32bc73bb013df3735.png"},318:function(e,t,n){"use strict";e.exports=n.p+"static/media/google.e4a85a2088b406e83caf.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1257cef4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-login-signup-ui-template:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_login_signup_ui_template=self.webpackChunkreact_login_signup_ui_template||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return qy},hasStandardBrowserEnv:function(){return Ky},hasStandardBrowserWebWorkerEnv:function(){return Wy},navigator:function(){return Hy},origin:function(){return Gy}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||E(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&E(!1),x(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,T=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:P(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:L(a),hash:D(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(){return null!=(0,r.useContext)(b)}function F(){return M()||E(!1),(0,r.useContext)(b).location}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function j(e){var t=e.to,n=e.replace,i=e.state;M()||E(!1);var a=function(){M()||E(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);return(0,r.useEffect)((function(){u.current=!0})),(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a])}();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function V(e){E(!1)}function z(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&E(!1);var d=P(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,x=v.hash,S=void 0===x?"":x,T=v.state,I=void 0===T?null:T,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=R(y,d);return null==e?null:{pathname:e,search:_,hash:S,state:I,key:N}}),[d,y,_,S,I,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function B(e){var t=e.children,n=e.location;return function(e,t){M()||E(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||E(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),i)}(q(t),n)}function q(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==V&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=q(e.props.children)),t.push(n)}else t.push.apply(t,q(e.props.children))})),t}function H(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){I(-1*u)}},I(u))}}else T(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function E(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function x(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function I(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:E,push:function e(n,a){var o=t.Push,u=_(n,a);if(S(o,u,(function(){e(n,a)}))){var s=x(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(S(a,o,(function(){e(n,r)}))){var u=x(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(z,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}function K(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){K(a,r,i,o,u,"next",e)}function u(e){K(a,r,i,o,u,"throw",e)}o(void 0)}))}}var G=n(757),Q=n.n(G);function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function J(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function Y(){return Y="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=J(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Y.apply(this,arguments)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){if(t&&("object"===ne(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function ie(e){var t=te();return function(){var n,r=X(e);if(t){var i=X(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re(this,n)}}function ae(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function le(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ce(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t,n){return he=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Z(i,n.prototype),i},he.apply(null,arguments)}function de(e){var t="function"===typeof Map?new Map:void 0;return de=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return he(e,arguments,X(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,e)},de(e)}var pe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new me;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},me=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return se(n)}(de(Error)),ye=function(e){return function(e){var t=pe(e);return ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ge=function(e){try{return ve.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ke=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},be=function(){try{return ke()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ge(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},we=function(e){var t,n;return null===(n=null===(t=be())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ee=function(){var e;return null===(e=be())||void 0===e?void 0:e.config},_e=function(e){var t;return null===(t=be())||void 0===t?void 0:t["_".concat(e)]},xe=function(){function e(){var t=this;oe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return se(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Se(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(a)),""].join(".")}function Te(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function Ce(){return!function(){var e,t=null===(e=be())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ae=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a;return oe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf($(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace($(a),Re.prototype.create),a}return se(n)}(de(Error)),Re=function(){function e(t,n,r){oe(this,e),this.service=t,this.serviceName=n,this.errors=r}return se(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Oe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ae(n,a,t);return o}}]),e}();function Oe(e,t){return e.replace(Pe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pe=/\{\$([^}]+)}/g;function Le(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function De(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Me(u)&&Me(s)){if(!De(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Me(e){return null!==e&&"object"===typeof e}function Fe(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ue(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function je(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ve=function(){function e(t,n){var r=this;oe(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return se(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ae(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ze),void 0===r.error&&(r.error=ze),void 0===r.complete&&(r.complete=ze);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ze(){}function Be(e){return e&&e._delegate?e._delegate:e}var qe=function(){function e(t,n,r){oe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),He="[DEFAULT]",Ke=function(){function e(t,n){oe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch(s){}var t,n=ae(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=W(G.mark((function e(){var t;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(le(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),le(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ae(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===He?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.component?this.component.multipleInstances?e:He:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var We,Ge,Qe=function(){function e(t){oe(this,e),this.name=t,this.providers=new Map}return se(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ke(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Xe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ge||(Ge={}));var Je={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Ye=Ge.INFO,$e=(fe(We={},Ge.DEBUG,"log"),fe(We,Ge.VERBOSE,"log"),fe(We,Ge.INFO,"info"),fe(We,Ge.WARN,"warn"),fe(We,Ge.ERROR,"error"),We),Ze=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$e[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},et=function(){function e(t){oe(this,e),this.name=t,this._logLevel=Ye,this._logHandler=Ze,this._userLogHandler=null,Xe.push(this)}return se(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ge))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Je[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ge.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ge.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.INFO].concat(t)),this._logHandler.apply(this,[this,Ge.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.WARN].concat(t)),this._logHandler.apply(this,[this,Ge.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.ERROR].concat(t)),this._logHandler.apply(this,[this,Ge.ERROR].concat(t))}}]),e}();function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt,it;var at=new WeakMap,ot=new WeakMap,ut=new WeakMap,st=new WeakMap,ct=new WeakMap;var lt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ut.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ft(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(it||(it=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pt(this),n),dt(at.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt(e.apply(pt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pt(this),t].concat(r));return ut.set(a,t.sort?t.sort():[t]),dt(a)}}function ht(e){return"function"===typeof e?ft(e):(e instanceof IDBTransaction&&function(e){if(!ot.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ot.set(e,t)}}(e),t=e,(rt||(rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,lt):e);var t}function dt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&at.set(t,e)})).catch((function(){})),ct.set(t,e),t}(e);if(st.has(e))return st.get(e);var t=ht(e);return t!==e&&(st.set(e,t),ct.set(t,e)),t}var pt=function(e){return ct.get(e)};var vt,mt,yt=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],kt=new Map;function bt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(kt.get(t))return kt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||yt.includes(n))){var a=function(){var e=W(G.mark((function e(t){var a,o,u,s,c,l,f=arguments;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return kt.set(t,a),a}}}lt=function(e){return nt(nt({},e),{},{get:function(t,n,r){return bt(t,n)||e.get(t,n,r)},has:function(t,n){return!!bt(t,n)||e.has(t,n)}})}(lt);var wt=function(){function e(t){oe(this,e),this.container=t}return se(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Et="@firebase/app",_t="0.10.13",xt=new et("@firebase/app"),St="[DEFAULT]",Tt=(fe(vt={},Et,"fire-core"),fe(vt,"@firebase/app-compat","fire-core-compat"),fe(vt,"@firebase/analytics","fire-analytics"),fe(vt,"@firebase/analytics-compat","fire-analytics-compat"),fe(vt,"@firebase/app-check","fire-app-check"),fe(vt,"@firebase/app-check-compat","fire-app-check-compat"),fe(vt,"@firebase/auth","fire-auth"),fe(vt,"@firebase/auth-compat","fire-auth-compat"),fe(vt,"@firebase/database","fire-rtdb"),fe(vt,"@firebase/data-connect","fire-data-connect"),fe(vt,"@firebase/database-compat","fire-rtdb-compat"),fe(vt,"@firebase/functions","fire-fn"),fe(vt,"@firebase/functions-compat","fire-fn-compat"),fe(vt,"@firebase/installations","fire-iid"),fe(vt,"@firebase/installations-compat","fire-iid-compat"),fe(vt,"@firebase/messaging","fire-fcm"),fe(vt,"@firebase/messaging-compat","fire-fcm-compat"),fe(vt,"@firebase/performance","fire-perf"),fe(vt,"@firebase/performance-compat","fire-perf-compat"),fe(vt,"@firebase/remote-config","fire-rc"),fe(vt,"@firebase/remote-config-compat","fire-rc-compat"),fe(vt,"@firebase/storage","fire-gcs"),fe(vt,"@firebase/storage-compat","fire-gcs-compat"),fe(vt,"@firebase/firestore","fire-fst"),fe(vt,"@firebase/firestore-compat","fire-fst-compat"),fe(vt,"@firebase/vertexai-preview","fire-vertex"),fe(vt,"fire-js","fire-js"),fe(vt,"firebase","fire-js-all"),vt),It=new Map,Ct=new Map,Nt=new Map;function At(e,t){try{e.container.addComponent(t)}catch(n){xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Rt(e){var t=e.name;if(Nt.has(t))return xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nt.set(t,e);var n,r=ae(It.values());try{for(r.s();!(n=r.n()).done;){At(n.value,e)}}catch(o){r.e(o)}finally{r.f()}var i,a=ae(Ct.values());try{for(a.s();!(i=a.n()).done;){At(i.value,e)}}catch(o){a.e(o)}finally{a.f()}return!0}function Ot(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pt(e){return void 0!==e.settings}var Lt=(fe(mt={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),fe(mt,"bad-app-name","Illegal App name: '{$appName}'"),fe(mt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),fe(mt,"app-deleted","Firebase App named '{$appName}' already deleted"),fe(mt,"server-app-deleted","Firebase Server App has been deleted"),fe(mt,"no-options","Need to provide options, when not being deployed to hosting via source."),fe(mt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fe(mt,"invalid-log-argument","First argument to `onLog` must be null or a function."),fe(mt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),fe(mt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),fe(mt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),fe(mt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),fe(mt,"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),fe(mt,"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments."),mt),Dt=new Re("app","Firebase",Lt),Mt=function(){function e(t,n,r){var i=this;oe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qe("app",(function(){return i}),"PUBLIC"))}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}]),e}(),Ft="10.14.1";function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:St,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Dt.create("bad-app-name",{appName:String(a)});if(n||(n=Ee()),!n)throw Dt.create("no-options");var o=It.get(a);if(o){if(De(n,o.options)&&De(i,o.config))return o;throw Dt.create("duplicate-app",{appName:a})}var u,s=new Qe(a),c=ae(Nt.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Mt(n,i,s);return It.set(a,f),f}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=It.get(e);if(!t&&e===St&&Ee())return Ut();if(!t)throw Dt.create("no-app",{appName:e});return t}function Vt(e,t,n){var r,i=null!==(r=Tt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xt.warn(u.join(" "))}Rt(new qe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var zt="firebase-heartbeat-store",Bt=null;function qt(){return Bt||(Bt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=dt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(dt(u.result),e.oldVersion,e.newVersion,dt(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(zt)}catch(n){console.warn(n)}}}).catch((function(e){throw Dt.create("idb-open",{originalErrorMessage:e.message})}))),Bt}function Ht(e){return Kt.apply(this,arguments)}function Kt(){return Kt=W(G.mark((function e(t){var n,r,i,a;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt();case 3:return n=e.sent,r=n.transaction(zt),e.next=7,r.objectStore(zt).get(Qt(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof Ae?xt.warn(e.t0.message):(a=Dt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xt.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),Kt.apply(this,arguments)}function Wt(e,t){return Gt.apply(this,arguments)}function Gt(){return Gt=W(G.mark((function e(t,n){var r,i,a,o;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt();case 3:return r=e.sent,i=r.transaction(zt,"readwrite"),a=i.objectStore(zt),e.next=8,a.put(n,Qt(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ae?xt.warn(e.t0.message):(o=Dt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xt.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Gt.apply(this,arguments)}function Qt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Xt=function(){function e(t){var n=this;oe(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Zt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return se(e,[{key:"triggerHeartbeat",value:function(){var e=W(G.mark((function e(){var t,n,r,i,a;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Jt(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=10;break}return e.next=7,this._heartbeatsCachePromise;case 7:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=10;break}return e.abrupt("return");case 10:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=14;break}return e.abrupt("return");case 14:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 15:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 19:e.prev=19,e.t0=e.catch(0),xt.warn(e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=W(G.mark((function e(){var t,n,r,i,a,o;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==this._heartbeatsCache){e.next=4;break}return e.next=4,this._heartbeatsCachePromise;case 4:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=6;break}return e.abrupt("return","");case 6:if(n=Jt(),r=Yt(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=ye(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=16;break}return this._heartbeatsCache.heartbeats=a,e.next=14,this._storage.overwrite(this._heartbeatsCache);case 14:e.next=18;break;case 16:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 18:return e.abrupt("return",o);case 21:return e.prev=21,e.t0=e.catch(0),xt.warn(e.t0),e.abrupt("return","");case 25:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jt(){return(new Date).toISOString().substring(0,10)}function Yt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ae(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),en(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),en(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $t,Zt=function(){function e(t){oe(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return se(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=W(G.mark((function e(){return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=W(G.mark((function e(){var t;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ht(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=W(G.mark((function e(t){var n,r;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=W(G.mark((function e(t){var n,r;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(le(r.heartbeats),le(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function en(e){return ye(JSON.stringify({version:2,heartbeats:e})).length}$t="",Rt(new qe("platform-logger",(function(e){return new wt(e)}),"PRIVATE")),Rt(new qe("heartbeat",(function(e){return new Xt(e)}),"PRIVATE")),Vt(Et,_t,$t),Vt(Et,_t,"esm2017"),Vt("fire-js","");function tn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var nn;Object.create;function rn(){return fe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var an=rn,on=new Re("auth","Firebase",rn()),un=new et("@firebase/auth");function sn(e){if(un.logLevel<=Ge.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];un.warn.apply(un,["Auth (".concat(Ft,"): ").concat(e)].concat(n))}}function cn(e){if(un.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];un.error.apply(un,["Auth (".concat(Ft,"): ").concat(e)].concat(n))}}function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vn.apply(void 0,[e].concat(n))}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vn.apply(void 0,[e].concat(n))}function hn(e,t,n){var r=Object.assign(Object.assign({},an()),fe({},t,n));return new Re("auth","Firebase",r).create(t,{appName:e.name})}function dn(e){return hn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ln(e,"argument-error"),hn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=le(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(le(o)))}return on.create.apply(on,[e].concat(n))}function mn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vn.apply(void 0,[t].concat(r))}}function yn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw cn(t),new Error(t)}function gn(e,t){e||yn(t)}function kn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bn(){return"http:"===wn()||"https:"===wn()}function wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function En(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var _n=function(){function e(t,n){oe(this,e),this.shortDelay=t,this.longDelay=n,gn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())||"object"===typeof navigator&&"ReactNative"===navigator.product}return se(e,[{key:"get",value:function(){return En()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function xn(e,t){gn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Sn=function(){function e(){oe(this,e)}return se(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tn=(fe(nn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),fe(nn,"MISSING_CUSTOM_TOKEN","internal-error"),fe(nn,"INVALID_IDENTIFIER","invalid-email"),fe(nn,"MISSING_CONTINUE_URI","internal-error"),fe(nn,"INVALID_PASSWORD","wrong-password"),fe(nn,"MISSING_PASSWORD","missing-password"),fe(nn,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),fe(nn,"EMAIL_EXISTS","email-already-in-use"),fe(nn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),fe(nn,"INVALID_IDP_RESPONSE","invalid-credential"),fe(nn,"INVALID_PENDING_TOKEN","invalid-credential"),fe(nn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),fe(nn,"MISSING_REQ_TYPE","internal-error"),fe(nn,"EMAIL_NOT_FOUND","user-not-found"),fe(nn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),fe(nn,"EXPIRED_OOB_CODE","expired-action-code"),fe(nn,"INVALID_OOB_CODE","invalid-action-code"),fe(nn,"MISSING_OOB_CODE","internal-error"),fe(nn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),fe(nn,"INVALID_ID_TOKEN","invalid-user-token"),fe(nn,"TOKEN_EXPIRED","user-token-expired"),fe(nn,"USER_NOT_FOUND","user-token-expired"),fe(nn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),fe(nn,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),fe(nn,"INVALID_CODE","invalid-verification-code"),fe(nn,"INVALID_SESSION_INFO","invalid-verification-id"),fe(nn,"INVALID_TEMPORARY_PROOF","invalid-credential"),fe(nn,"MISSING_SESSION_INFO","missing-verification-id"),fe(nn,"SESSION_EXPIRED","code-expired"),fe(nn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),fe(nn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),fe(nn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),fe(nn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),fe(nn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),fe(nn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),fe(nn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),fe(nn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),fe(nn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),fe(nn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),fe(nn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fe(nn,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),fe(nn,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),fe(nn,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),fe(nn,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),fe(nn,"MISSING_CLIENT_TYPE","missing-client-type"),fe(nn,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),fe(nn,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),fe(nn,"INVALID_REQ_TYPE","invalid-req-type"),nn),In=new _n(3e4,6e4);function Cn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Nn(e,t,n,r){return An.apply(this,arguments)}function An(){return An=W(Q().mark((function e(t,n,r,i){var a,o=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Rn(t,a,W(Q().mark((function e(){var a,o,u,s,c;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Fe(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),c=Object.assign({method:n,headers:s},a),Ie()||(c.referrerPolicy="no-referrer"),e.abrupt("return",Sn.fetch()(Dn(t,t.config.apiHost,r,u),c));case 12:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Rn(e,t,n){return On.apply(this,arguments)}function On(){return On=W(Q().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Tn),n),e.prev=2,a=new Fn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Un(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Un(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Un(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Un(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw hn(t,p,d);case 34:ln(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ae)){e.next=41;break}throw e.t0;case 41:ln(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),On.apply(this,arguments)}function Pn(e,t,n,r){return Ln.apply(this,arguments)}function Ln(){return Ln=W(Q().mark((function e(t,n,r,i){var a,o,u=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Nn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ln(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}function Dn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?xn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Mn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Fn=function(){function e(t){var n=this;oe(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(fn(n.auth,"network-request-failed"))}),In.get())}))}return se(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Un(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=fn(e,t,r);return i.customData._tokenResponse=n,i}function jn(e){return void 0!==e&&void 0!==e.enterprise}var Vn=function(){function e(t){if(oe(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return se(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=ae(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return Mn(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function zn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"GET","/v2/recaptchaConfig",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bn.apply(this,arguments)}function qn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Kn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}function Gn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Qn(){return Qn=W(Q().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Be(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,mn((a=Jn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Gn(Xn(a.auth_time)),issuedAtTime:Gn(Xn(a.iat)),expirationTime:Gn(Xn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function Xn(e){return 1e3*Number(e)}function Jn(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return cn("JWT malformed, contained fewer than 3 sections"),null;try{var a=ge(r);return a?JSON.parse(a):(cn("Failed to decode base64 JWT payload"),null)}catch(o){return cn("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Yn(e){var t=Jn(e);return mn(t,"internal-error"),mn("undefined"!==typeof t.exp,"internal-error"),mn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}function $n(e,t){return Zn.apply(this,arguments)}function Zn(){return Zn=W(Q().mark((function e(t,n){var r=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ae&&er(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zn.apply(this,arguments)}function er(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var tr=function(){function e(t){oe(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return se(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(W(Q().mark((function t(){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),nr=function(){function e(t,n){oe(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return se(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function rr(e){return ir.apply(this,arguments)}function ir(){return ir=W(Q().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$n(t,Kn(r,{idToken:i}));case 6:mn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ur(o.providerUserInfo):[],s=or(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new nr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(){return(ar=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Be(t),e.next=3,rr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(le(n),le(t))}function ur(e){return e.map((function(e){var t=e.providerId,n=tn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sr(e,t){return cr.apply(this,arguments)}function cr(){return cr=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn(t,{},W(Q().mark((function e(){var r,i,a,o,u,s;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Dn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Sn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v2/accounts:revokeToken",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}var hr=function(){function e(){oe(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return se(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){mn(e.idToken,"internal-error"),mn("undefined"!==typeof e.idToken,"internal-error"),mn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Yn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){mn(0!==e.length,"internal-error");var t=Yn(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=W(Q().mark((function e(t){var n=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]&&n[1]||!this.accessToken||this.isExpired){e.next=3;break}return e.abrupt("return",this.accessToken);case 3:if(mn(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=W(Q().mark((function e(t,n){var r,i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(mn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(mn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(mn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function dr(e,t){mn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pr=function(){function e(t){oe(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=tn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?le(a.providerData):[],this.metadata=new nr(a.createdAt||void 0,a.lastLoginAt||void 0)}return se(e,[{key:"getIdToken",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(mn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Qn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ar.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=W(Q().mark((function e(t){var n,r,i=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,rr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(this.auth.app)){e.next=2;break}return e.abrupt("return",Promise.reject(dn(this.auth)));case 2:return e.next=4,this.getIdToken();case 4:return t=e.sent,e.next=7,$n(this,qn(this.auth,{idToken:t}));case 7:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,E=n.providerData,_=n.stsTokenManager;mn(k&&_,t,"internal-error");var x=hr.fromJSON(this.name,_);mn("string"===typeof k,t,"internal-error"),dr(f,t.name),dr(h,t.name),mn("boolean"===typeof b,t,"internal-error"),mn("boolean"===typeof w,t,"internal-error"),dr(d,t.name),dr(p,t.name),dr(v,t.name),dr(m,t.name),dr(y,t.name),dr(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:g});return E&&Array.isArray(E)&&(S.providerData=E.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=W(Q().mark((function t(n,r){var i,a,o,u=arguments;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new hr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,rr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=W(Q().mark((function t(n,r,i){var a,o,u,s,c,l;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return mn(void 0!==(a=r.users[0]).localId,"internal-error"),o=void 0!==a.providerUserInfo?ur(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),(s=new hr).updateFromIdToken(i),c=new e({uid:a.localId,auth:n,stsTokenManager:s,isAnonymous:u}),l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new nr(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length)},Object.assign(c,l),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),vr=new Map;function mr(e){gn(e instanceof Function,"Expected a class definition");var t=vr.get(e);return t?(gn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vr.set(e,t),t)}var yr=function(){function e(){oe(this,e),this.type="NONE",this.storage={}}return se(e,[{key:"_isAvailable",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();yr.type="NONE";var gr=yr;function kr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var br=function(){function e(t,n,r){oe(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kr(this.userKey,a.apiKey,o),this.fullPersistenceKey=kr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return se(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=W(Q().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(mr(gr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||mr(gr),u=kr(i,n.config.apiKey,n.name),s=null,c=ae(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=pr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Er(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(Cr(t))return"Webos";if(_r(t))return"Safari";if((t.includes("chrome/")||xr(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/firefox\//i.test(e)}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/crios\//i.test(e)}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/iemobile/i.test(e)}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/android/i.test(e)}function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/blackberry/i.test(e)}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/webos/i.test(e)}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ar(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return Nr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Rr(){return function(){var e=Te();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return Nr(e)||Tr(e)||Cr(e)||Ir(e)||/windows phone/i.test(e)||Sr(e)}function Pr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wr(Te());break;case"Worker":t="".concat(wr(Te()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ft,"/").concat(r)}var Lr=function(){function e(t){oe(this,e),this.auth=t,this.queue=[]}return se(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=W(Q().mark((function e(t){var n,r,i,a,o,u,s;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ae(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ae(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(hm){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Dr(e){return Mr.apply(this,arguments)}function Mr(){return Mr=W(Q().mark((function e(t){var n,r=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nn(t,"GET","/v2/passwordPolicy",Cn(t,n)));case 2:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}var Fr=function(){function e(t){var n,r,i,a;oe(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return se(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Ur=function(){function e(t,n,r,i){oe(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vr(this),this.idTokenSubscription=new Vr(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=on,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return se(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(W(Q().mark((function r(){var i,a;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,br.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn(this,{idToken:t});case 3:return n=e.sent,e.next=6,pr._fromGetAccountInfoResponse(this,n,t);case 6:return r=e.sent,e.next=9,this.directlySetCurrentUser(r);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e.t0),e.next=16,this.directlySetCurrentUser(null);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=W(Q().mark((function e(t){var n,r,i,a,o,u,s,c,l=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(this.app)){e.next=7;break}if(!(r=this.app.settings.authIdToken)){e.next=6;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return l.initializeCurrentUserFromIdToken(r).then(e,e)}))})));case 6:return e.abrupt("return",this.directlySetCurrentUser(null));case 7:return e.next=9,this.assertedPersistence.getCurrentUser();case 9:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=21;break}return e.next=15,this.getOrInitRedirectPersistenceManager();case 15:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=19,this.tryRedirectSignIn(t);case 19:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 21:if(a){e.next=23;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 23:if(a._redirectEventId){e.next=39;break}if(!o){e.next=34;break}return e.prev=25,e.next=28,this.beforeStateQueue.runMiddleware(a);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(25),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 34:if(!a){e.next=38;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:return e.abrupt("return",this.directlySetCurrentUser(null));case 39:return mn(this._popupRedirectResolver,this,"argument-error"),e.next=42,this.getOrInitRedirectPersistenceManager();case 42:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=44;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 44:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 45:case"end":return e.stop()}}),e,this,[[25,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(dn(this)));case 2:return(n=t?Be(t):null)&&mn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=W(Q().mark((function e(t){var n,r=this,i=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&mn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(dn(this)));case 2:return e.next=4,this.beforeStateQueue.runMiddleware(null);case 4:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=7;break}return e.next=7,this._setRedirectUser(null);case 7:return e.abrupt("return",this._updateCurrentUser(null,!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return Pt(this.app)?Promise.reject(dn(this)):this.queue(W(Q().mark((function n(){return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(mr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=W(Q().mark((function e(){var t,n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr(this);case 2:t=e.sent,n=new Fr(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Re("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,lr(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return mn(n=t&&mr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,br.create(this,[mr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=W(Q().mark((function e(t){var n=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(mn(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=W(Q().mark((function e(){var t,n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=W(Q().mark((function e(){var t,n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&sn("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jr(e){return Be(e)}var Vr=function(){function e(t){var n=this;oe(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ve(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return se(e,[{key:"next",get:function(){return mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),zr={loadJS:function(){return W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Br(e){return zr.loadJS(e)}function qr(){return zr.recaptchaEnterpriseScript}function Hr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Kr="NO_RECAPTCHA",Wr=function(){function e(t){oe(this,e),this.type="recaptcha-enterprise",this.auth=jr(t)}return se(e,[{key:"verify",value:function(){var e=W(Q().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;jn(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(Kr)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=W(Q().mark((function e(n,r){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Vn(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&jn(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=qr();0!==i.length&&(i+=r),Br(i).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gr(e,t,n){return Qr.apply(this,arguments)}function Qr(){return Qr=W(Q().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Wr(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Qr.apply(this,arguments)}function Xr(e,t,n,r){return Jr.apply(this,arguments)}function Jr(){return Jr=W(Q().mark((function e(t,n,r,i){var a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,Gr(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=W(Q().mark((function e(a){var o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,Gr(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Yr(e,t){var n=Ot(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(De(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;ln(r,"already-initialized")}return n.initialize({options:t})}function $r(e,t,n){var r=jr(e);mn(r._canInitEmulator,r,"emulator-config-failed"),mn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Zr(t),o=function(e){var t=Zr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ei(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:ei(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ei(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ti=function(){function e(t,n){oe(this,e),this.providerId=t,this.signInMethod=n}return se(e,[{key:"toJSON",value:function(){return yn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yn("not implemented")}}]),e}();function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPassword",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithEmailLink",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithEmailLink",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}var li=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return oe(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return se(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Xr(t,n,"signInWithPassword",ii));case 5:return e.abrupt("return",oi(t,{email:this._email,oobCode:this._password}));case 6:ln(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Xr(t,r,"signUpPassword",ni));case 5:return e.abrupt("return",si(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:ln(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ti);function fi(e,t){return hi.apply(this,arguments)}function hi(){return hi=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithIdp",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}var di=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return se(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ln("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=tn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ti);function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:sendVerificationCode",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(){return mi=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(){return yi=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Cn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Un(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}var gi=fe({},"USER_NOT_FOUND","user-not-found");function ki(){return ki=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Cn(t,r),gi));case 2:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this,"phone","phone")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ki.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ti);var wi=function(){function e(t){var n,r,i,a,o,u;oe(this,e);var s=Ue(je(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);mn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return se(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ue(je(e)).link,n=t?Ue(je(t)).deep_link_id:null,r=Ue(je(e)).deep_link_id;return(r?Ue(je(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ei=function(){function e(){oe(this,e),this.providerId=e.PROVIDER_ID}return se(e,null,[{key:"credential",value:function(e,t){return li._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wi.parseLink(t);return mn(n,"argument-error"),li._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ei.PROVIDER_ID="password",Ei.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ei.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var _i=function(){function e(t){oe(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return se(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),xi=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).scopes=[],e}return se(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return le(this.scopes)}}]),n}(_i),Si=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return mn(e.idToken||e.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return mn("providerId"in t&&"signInMethod"in t,"argument-error"),di._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(xi),Ti=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.call(this,"facebook.com")}return se(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(xi);Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ti.PROVIDER_ID="facebook.com";var Ii=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return se(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(xi);Ii.GOOGLE_SIGN_IN_METHOD="google.com",Ii.PROVIDER_ID="google.com";var Ci=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.call(this,"github.com")}return se(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(xi);Ci.GITHUB_SIGN_IN_METHOD="github.com",Ci.PROVIDER_ID="github.com";var Ni=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.call(this,"twitter.com")}return se(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(xi);function Ai(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signUp",Cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}Ni.TWITTER_SIGN_IN_METHOD="twitter.com",Ni.PROVIDER_ID="twitter.com";var Oi=function(){function e(t){oe(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return se(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=W(Q().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Pi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=W(Q().mark((function t(n,r,i){var a;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Li=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a){var o,u;return oe(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf($(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return se(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ae);function Di(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Li._fromErrorAndOperation(e,n,t,r);throw n}))}function Mi(e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=W(Q().mark((function e(t,n){var r,i,a=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$n,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Oi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ui(e,t){return ji.apply(this,arguments)}function ji(){return ji=W(Q().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],!Pt((i=t.auth).app)){e.next=4;break}return e.abrupt("return",Promise.reject(dn(i)));case 4:return a="reauthenticate",e.prev=5,e.next=8,$n(t,Di(i,a,n,t),r);case 8:return mn((o=e.sent).idToken,i,"internal-error"),mn(u=Jn(o.idToken),i,"internal-error"),s=u.sub,mn(t.uid===s,i,"user-mismatch"),e.abrupt("return",Oi._forOperation(t,a,o));case 17:throw e.prev=17,e.t0=e.catch(5),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ln(i,"user-mismatch"),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])}))),ji.apply(this,arguments)}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=W(Q().mark((function e(t,n){var r,i,a,o,u=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],!Pt(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(dn(t)));case 3:return i="signIn",e.next=6,Di(t,i,n);case 6:return a=e.sent,e.next=9,Oi._fromIdTokenResponse(t,i,a);case 9:if(o=e.sent,r){e.next=13;break}return e.next=13,t._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return qi=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(jr(t),n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Hi(e){return Ki.apply(this,arguments)}function Ki(){return Ki=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=jr(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Wi(e,t,n){return Gi.apply(this,arguments)}function Gi(){return Gi=W(Q().mark((function e(t,n,r){var i,a,o,u;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(dn(t)));case 2:return i=jr(t),a=Xr(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ai),e.next=7,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Hi(t),e}));case 7:return o=e.sent,e.next=10,Oi._fromIdTokenResponse(i,"signIn",o);case 10:return u=e.sent,e.next=13,i._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(e,t,n){return Pt(e.app)?Promise.reject(dn(e)):Bi(Be(e),Ei.credential(t,n)).catch(function(){var t=W(Q().mark((function t(n){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Hi(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function Xi(e,t,n,r){return Be(e).onIdTokenChanged(t,n,r)}function Ji(e,t,n){return Be(e).beforeAuthStateChanged(t,n)}function Yi(e,t){return Nn(e,"POST","/v2/accounts/mfaEnrollment:start",Cn(e,t))}function $i(e,t){return Nn(e,"POST","/v2/accounts/mfaEnrollment:start",Cn(e,t))}function Zi(e,t){return Nn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(e,t))}new WeakMap;var ea="__sak",ta=function(){function e(t,n){oe(this,e),this.storageRetriever=t,this.type=n}return se(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ea,"1"),this.storage.removeItem(ea),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),na=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.fallbackToPolling=Or(),e._shouldAllowMigration=!0,e}return se(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;n?this.detachListener():this.stopPolling();var i=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);Rr()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=W(Q().mark((function e(t,r){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(X(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=W(Q().mark((function e(t){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(X(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(X(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ta);na.type="LOCAL";var ra=na,ia=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return se(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ta);ia.type="SESSION";var aa=ia;function oa(e){return Promise.all(e.map(function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ua=function(){function e(t){oe(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return se(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=W(Q().mark((function e(t){var n,r,i,a,o,u,s,c;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,oa(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function sa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ua.receivers=[];var ca=function(){function e(t){oe(this,e),this.target=t,this.handlers=new Set}return se(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=W(Q().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=sa("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function la(){return window}function fa(e){la().location.href=e}function ha(){return"undefined"!==typeof la().WorkerGlobalScope&&"function"===typeof la().importScripts}function da(){return pa.apply(this,arguments)}function pa(){return(pa=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function va(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ma="firebaseLocalStorageDb",ya="firebaseLocalStorage",ga="fbase_key",ka=function(){function e(t){oe(this,e),this.request=t}return se(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ba(e,t){return e.transaction([ya],t?"readwrite":"readonly").objectStore(ya)}function wa(){var e=indexedDB.deleteDatabase(ma);return new ka(e).toPromise()}function Ea(){var e=indexedDB.open(ma,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ya,{keyPath:ga})}catch(r){n(r)}})),e.addEventListener("success",W(Q().mark((function n(){var r;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ya)){n.next=12;break}return r.close(),n.next=5,wa();case 5:return n.t0=t,n.next=8,Ea();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function _a(e,t,n){return xa.apply(this,arguments)}function xa(){return xa=W(Q().mark((function e(t,n,r){var i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ba(t,!0).put((fe(i={},ga,n),fe(i,"value",r),i)),e.abrupt("return",new ka(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Sa(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=W(Q().mark((function e(t,n){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t,!1).get(n),e.next=3,new ka(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ia(e,t){var n=ba(e,!0).delete(t);return new ka(n).toPromise()}var Ca=function(){function e(){oe(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return se(e,[{key:"_openDb",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ea();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=W(Q().mark((function e(){var t=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ua._getInstance(ha()?self:null),this.receiver._subscribe("keyChanged",function(){var e=W(Q().mark((function e(n,r){var i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=W(Q().mark((function e(){var t,n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ca(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&va()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ea();case 5:return t=e.sent,e.next=8,_a(t,ea,"1");case 8:return e.next=10,Ia(t,ea);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=W(Q().mark((function e(t,n){var r=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return _a(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Sa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=W(Q().mark((function e(t){var n=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ia(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=W(Q().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ba(e,!1).getAll();return new ka(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=ae(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(W(Q().mark((function t(){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ca.type="LOCAL";var Na=Ca;function Aa(e,t){return Nn(e,"POST","/v2/accounts/mfaSignIn:start",Cn(e,t))}function Ra(e,t){return Nn(e,"POST","/v2/accounts/mfaSignIn:finalize",Cn(e,t))}Hr("rcb"),new _n(3e4,6e4);var Oa="recaptcha";function Pa(e,t,n){return La.apply(this,arguments)}function La(){return La=W(Q().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,mn("string"===typeof a,t,"argument-error"),mn(r.type===Oa,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return mn("enroll"===u.type,t,"internal-error"),e.next=13,Yi(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return mn("signin"===u.type,t,"internal-error"),mn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Aa(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),La.apply(this,arguments)}var Da=function(){function e(t){oe(this,e),this.providerId=e.PROVIDER_ID,this.auth=jr(t)}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return Pa(this.auth,e,Be(t))}}],[{key:"credential",value:function(e,t){return bi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bi._fromTokenResponse(n,r):null}}]),e}();function Ma(e,t){return t?mr(t):(mn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Da.PROVIDER_ID="phone",Da.PHONE_SIGN_IN_METHOD="phone";var Fa=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this,"custom","custom")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ti);function Ua(e){return Vi(e.auth,new Fa(e),e.bypassAuthState)}function ja(e){var t=e.auth,n=e.user;return mn(n,t,"internal-error"),Ui(n,new Fa(e),e.bypassAuthState)}function Va(e){return za.apply(this,arguments)}function za(){return za=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,mn(r=t.user,n,"internal-error"),e.abrupt("return",Mi(r,new Fa(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}var Ba=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];oe(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return se(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=W(Q().mark((function t(n,r){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=W(Q().mark((function e(t){var n,r,i,a,o,u,s;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return Va;case"reauthViaPopup":case"reauthViaRedirect":return ja;default:ln(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),qa=new _n(2e3,1e4);function Ha(e,t,n){return Ka.apply(this,arguments)}function Ka(){return Ka=W(Q().mark((function e(t,n,r){var i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(fn(t,"operation-not-supported-in-this-environment")));case 2:return i=jr(t),pn(t,n,_i),a=Ma(i,r),o=new Wa(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}var Wa=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a,o){var u;return oe(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=$(u),u}return se(n,[{key:"executeNotNull",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return mn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=W(Q().mark((function e(){var t,n=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn(1===this.filter.length,"Popup operations only handle one event"),t=sa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(fn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(fn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(fn(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,qa.get())}()}}]),n}(Ba);Wa.currentPopupAction=null;var Ga=new Map,Qa=function(e){ee(n,e);var t=ie(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oe(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return se(n,[{key:"execute",value:function(){var e=W(Q().mark((function e(){var t,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ga.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xa(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Y(X(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ga.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ga.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=W(Q().mark((function e(t){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Y(X(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Y(X(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ba);function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=W(Q().mark((function e(t,n){var r,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(n),i=$a(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Ya(e,t){Ga.set(e._key(),t)}function $a(e){return mr(e._redirectPersistence)}function Za(e){return kr("pendingRedirect",e.config.apiKey,e.name)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=W(Q().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],!Pt(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(dn(t)));case 3:return i=jr(t),a=Ma(i,n),o=new Qa(i,a,r),e.next=8,o.execute();case 8:if(!(u=e.sent)||r){e.next=15;break}return delete u.user._redirectEventId,e.next=13,i._persistUserIfCurrent(u.user);case 13:return e.next=15,i._setRedirectUser(null,n);case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=function(){function e(t){oe(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return se(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return io(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!io(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ro(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ro(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ro(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function io(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ao(e){return oo.apply(this,arguments)}function oo(){return oo=W(Q().mark((function e(t){var n,r=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}var uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,so=/^https?/;function co(){return co=W(Q().mark((function e(t){var n,r,i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ao(t);case 4:n=e.sent,r=n.authorizedDomains,i=ae(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!lo(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ln(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),co.apply(this,arguments)}function lo(e){var t=kn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!so.test(r))return!1;if(uo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fo=new _n(3e4,6e4);function ho(){var e=la().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=le(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function po(e){return new Promise((function(t,n){var r,i,a;function o(){ho(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ho(),n(fn(e,"network-request-failed"))},timeout:fo.get()})}if(null===(i=null===(r=la().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=la().gapi)||void 0===a?void 0:a.load)){var u=Hr("iframefcb");return la()[u]=function(){gapi.load?o():n(fn(e,"network-request-failed"))},Br("".concat(zr.gapiScript,"?onload=").concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw vo=null,e}))}var vo=null;function mo(e){return vo=vo||po(e)}var yo=new _n(5e3,15e3),go={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ko=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bo(e){var t=e.config;mn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?xn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ft},i=ko.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Fe(r).slice(1))}function wo(e){return Eo.apply(this,arguments)}function Eo(){return Eo=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(t);case 2:return n=e.sent,mn(r=la().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:bo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:go,dontclear:!0},(function(e){return new Promise(function(){var n=W(Q().mark((function n(r,i){var a,o,u;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){la().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=fn(t,"network-request-failed"),o=la().setTimeout((function(){i(a)}),yo.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}var _o={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xo="_blank",So="http://localhost",To=function(){function e(t){oe(this,e),this.window=t,this.associatedEvent=null}return se(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Io(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},_o),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Te().toLowerCase();n&&(u=xr(l)?xo:n),Er(l)&&(t=t||So,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ar(l)&&"_self"!==u)return Co(t||"",u),new To(null);var h=window.open(t||"",u,f);mn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new To(h)}function Co(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var No=encodeURIComponent("fac");function Ao(e,t,n,r,i,a){return Ro.apply(this,arguments)}function Ro(){return Ro=W(Q().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,y,g,k,b;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mn(t.config.authDomain,t,"auth-domain-config-required"),mn(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ft,eventId:a},n instanceof _i)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Le(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof xi&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(No,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Oo(t),"?").concat(Fe(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Oo(e){var t=e.config;return t.emulator?xn(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Po="webStorageSupport",Lo=function(){function e(){oe(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aa,this._completeRedirectFn=eo,this._overrideRedirectResult=Ya}return se(e,[{key:"_openPopup",value:function(){var e=W(Q().mark((function e(t,n,r,i){var a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Ao(t,n,r,kn(),i);case 3:return o=e.sent,e.abrupt("return",Io(t,o,sa()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=W(Q().mark((function e(t,n,r,i){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ao(t,n,r,kn(),i);case 4:return fa(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(gn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t);case 2:return n=e.sent,r=new no(t),n.register("authEvent",(function(e){return mn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Po,{type:Po},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ln(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return co.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Or()||_r()||Nr()}}]),e}(),Do=Lo,Mo=function(){function e(t){oe(this,e),this.factorId=t}return se(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yn("unexpected MultiFactorSessionType")}}}]),e}(),Fo=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this,"phone")).credential=e,r}return se(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Nn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Nn(e,"POST","/v2/accounts/mfaSignIn:finalize",Cn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Mo);(function(){function e(){oe(this,e)}return se(e,null,[{key:"assertion",value:function(e){return Fo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Uo=function(){function e(){oe(this,e)}return se(e,null,[{key:"assertionForEnrollment",value:function(e,t){return jo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return jo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=W(Q().mark((function e(t){var n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mn("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,$i(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Vo._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Uo.FACTOR_ID="totp";var jo=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a;return oe(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return se(n,[{key:"_finalizeEnroll",value:function(){var e=W(Q().mark((function e(t,n,r){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mn("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Zi(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mn(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ra(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Mo),Vo=function(){function e(t,n,r,i,a,o,u){oe(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return se(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(zo(e)||zo(t))&&(r=!0),r&&(zo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),zo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function zo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Bo="@firebase/auth",qo="1.7.9",Ho=function(){function e(t){oe(this,e),this.auth=t,this.internalListeners=new Map}return se(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ko,Wo=_e("authIdTokenMaxAge")||300,Go=null,Qo=function(e){return function(){var t=W(Q().mark((function t(n){var r,i,a;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Wo)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Go!==a){t.next=12;break}return t.abrupt("return");case 12:return Go=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){zr=e}({loadJS:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ko="Browser",Rt(new qe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;mn(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Ko,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(Ko)},l=new Ur(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Rt(new qe("auth-internal",(function(e){return function(e){return new Ho(e)}(jr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(Bo,qo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ko)),Vt(Bo,qo,"esm2017");Vt("firebase","10.14.1","app");var Xo,Jo,Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$o={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return u;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var u=a(0),s=a(1),c=a(16777216);function l(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(s)}function d(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function m(e,t){if(l(t))throw Error("division by zero");if(l(e))return new v(u,u);if(f(e))return t=m(h(e),t),new v(h(t.g),h(t.h));if(f(t))return t=m(e,h(t)),new v(h(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=s,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=g(n,1),a=g(r,1);for(r=g(r,2),n=g(n,2);!l(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=g(r,1),n=g(n,1)}return t=d(e,i.j(t)),new v(i,t)}for(i=u;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);f(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);l(a)&&(a=s),i=i.add(a),e=d(e,c)}return new v(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function g(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(f(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(l(this))return"0";if(f(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,a=((0<(n=d(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(l(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=d(this,e))?-1:l(e)?0:1},e.abs=function(){return f(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),u=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=u>>>16,o&=65535,u&=65535,n[a]=u<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(l(this)||l(e))return u;if(f(this))return f(e)?h(this).j(h(e)):h(h(this).j(e));if(f(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var s=this.i(i)>>>16,d=65535&this.i(i),v=e.i(a)>>>16,m=65535&e.i(a);n[2*i+2*a]+=d*m,p(n,2*i+2*a),n[2*i+2*a+1]+=s*m,p(n,2*i+2*a+1),n[2*i+2*a+1]+=d*v,p(n,2*i+2*a+1),n[2*i+2*a+2]+=s*v,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Jo=$o.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=u,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+s),n);8>s?(s=o(Math.pow(n,s)),i=i.j(s).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Xo=$o.Integer=r}).apply("undefined"!==typeof Yo?Yo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zo,eu,tu,nu,ru,iu,au,ou,uu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},su={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof uu&&uu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function s(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:s).apply(null,arguments)}function f(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function d(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(a(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var u=0;u<o;u++)e[i+u]=r[u]}else e.push(r)}}var v=function(){function e(t,n){oe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return se(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function m(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var k=-1!=y().indexOf("Gecko")&&!(-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge"))&&!(-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE"))&&-1==y().indexOf("Edge");function b(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function w(e){var t={};for(var n in e)t[n]=e[n];return t}var E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<E.length;a++)n=E[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((function(){throw e}),0)}function T(){var e=O,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I,C=function(){function e(){oe(this,e),this.h=this.g=null}return se(e,[{key:"add",value:function(e,t){var n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),N=new v((function(){return new A}),(function(e){return e.reset()})),A=function(){function e(){oe(this,e),this.next=this.g=this.h=null}return se(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}(),R=!1,O=new C,P=function(){var e=i.Promise.resolve(void 0);I=function(){e.then(L)}},L=function(){for(var e;e=T();){try{e.h.call(e.g)}catch(Zv){S(Zv)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}R=!1};function D(){this.s=this.s,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};i.addEventListener("test",n,t),i.removeEventListener("test",n,t)}catch(n){}return e}();function U(e,t){if(M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(k){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&U.aa.h.call(this)}}h(U,M);var j={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),z=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function H(e){this.src=e,this.g={},this.h=0}function K(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}H.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=W(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),Q={};function J(e,t,n,r,i){if(r&&r.once)return Z(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)J(e,t[a],n,r,i);return null}return n=fe(n),e&&e[V]?e.K(t,n,o(r)?!!r.capture:!!r,i):$(e,t,n,!1,r,i)}function $(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var u=o(i)?!!i.capture:!!i,s=ce(e);if(s||(e[G]=s=new H(e)),(n=s.add(t,n,r,u,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)F||(i=u),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(re(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Z(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Z(e,t[a],n,r,i);return null}return n=fe(n),e&&e[V]?e.L(t,n,o(r)?!!r.capture:!!r,i):$(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)te(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=fe(n),e&&e[V]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(a=e.g[t],n,r,i))&&(q(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&ne(n))}function ne(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[V])K(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(re(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(K(n,e),0==n.h&&(n.src=null,t[G]=null)):q(e)}}}function re(e){return e in Q?Q[e]:Q[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new U(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ne(e),e=n.call(r,t)}return e}function ce(e){return(e=e[G])instanceof H?e:null}var le="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[le]||(e[le]=function(t){return e.handleEvent(t)}),e[le])}function he(){D.call(this),this.i=new H(this),this.M=this,this.F=null}function de(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var i=t;_(t=new M(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=pe(o,r,!0,t)&&i}if(i=pe(o=t.g=e,r,!0,t)&&i,i=pe(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pe(o=t.g=n[a],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.fa&&K(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}function ve(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function me(e){e.g=ve((function(){e.g=null,e.i&&(e.i=!1,me(e))}),e.l);var t=e.h;e.h=null,e.m.apply(null,t)}h(he,D),he.prototype[V]=!0,he.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)q(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ye=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this)).m=e,i.l=r,i.h=null,i.i=!1,i.g=null,i}return se(n,[{key:"j",value:function(e){this.h=arguments,this.g?this.i=!0:me(this)}},{key:"N",value:function(){Y(X(n.prototype),"N",this).call(this),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(D);function ge(e){D.call(this),this.h=e,this.g={}}h(ge,D);var ke=[];function be(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ne(e)}),e),e.g={}}ge.prototype.N=function(){ge.aa.N.call(this),be(this)},ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=i.JSON.stringify,Ee=i.JSON.parse,_e=function(){function e(){oe(this,e)}return se(e,[{key:"stringify",value:function(e){return i.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return i.JSON.parse(e,void 0)}}]),e}();function xe(){}function Se(e){return e.h||(e.h=e.i())}function Te(){}xe.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ce(){M.call(this,"d")}function Ne(){M.call(this,"c")}h(Ce,M),h(Ne,M);var Ae={},Re=null;function Oe(){return Re=Re||new he}function Pe(e){M.call(this,Ae.La,e)}function Le(e){var t=Oe();de(t,new Pe(t))}function De(e,t){M.call(this,Ae.STAT_EVENT,e),this.stat=t}function Me(e){var t=Oe();de(t,new De(t,e))}function Fe(e,t){M.call(this,Ae.Ma,e),this.size=t}function Ue(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Ve(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return we(n)}catch(rm){return t}}(e,n)+(r?" "+r:"")}))}Ae.La="serverreachability",h(Pe,M),Ae.STAT_EVENT="statevent",h(De,M),Ae.Ma="timingevent",h(Fe,M),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var ze,Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function Ke(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}h(He,xe),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},ze=new He;var Ge={},Qe={};function Xe(e,t,n){e.L=1,e.v=wt(mt(t)),e.m=n,e.P=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),Ze(e),e.A=mt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new We,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ke[0]=i.toString()),i=ke);for(var a=0;a<i.length;a++){var o=J(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ye(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ue(l(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||gn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),un(n)}pn(n),Me(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ue(l(n.Za,n),6e3));if(1>=st(n.h)&&n.ca){try{n.ca()}catch(a){}n.ca=void 0}}else bn(n,11)}else if((e.K||n.g==e)&&yn(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.K=a[1],n.ia=a[2];var o=a[3];null!=o&&(n.la=o,n.j.info("VER="+n.la));var u=a[4];null!=u&&(n.Aa=u,n.j.info("SVER="+n.Aa));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var f=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var h=r.h;h.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(lt(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.ya=d,bt(r.I,r.D,d))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var p=e;if((r=n).qa=En(r,r.J?r.ia:null,r.W),p.K){ft(r.h,p);var v=p,y=r.L;y&&(v.I=y),v.B&&(tt(v),Ze(v)),r.g=p}else dn(r);0<n.i.length&&cn(n)}else"stop"!=a[0]&&"close"!=a[0]||bn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bn(n,7):on(n):"noop"!=a[0]&&n.l&&n.l.ta(a),n.v=0)}Le()}catch(a){}}Ke.prototype.ca=function(e){e=e.target;var t=this.M;t&&3==tn(e)?t.j():this.Y(e)},Ke.prototype.Y=function(e){try{if(e==this.g)e:{var t=tn(this.g),n=this.g.Ba();this.g.Z();if(!(3>t)&&(3!=t||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=t||7==n||Le(),tt(this);var r=this.g.Z();this.X=r;t:if(Ye(this)){var a=nn(this.g);e="";var o=a.length,u=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var s="";break t}this.h.i=new i.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:!(u&&n==o-1)});a.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,t,r),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(c)){var f=c;break t}}f=null}if(!(r=f)){this.o=!1,this.s=3,Me(12),rt(this),nt(this);break e}Ve(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,r)}if(this.P){var h;for(r=!0;!this.J&&this.C<s.length;){if((h=$e(this,s))==Qe){4==t&&(this.s=4,Me(14),r=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(h==Ge){this.s=4,Me(15),Ve(this.i,this.l,s,"[Invalid Chunk]"),r=!1;break}Ve(this.i,this.l,h,null),it(this,h)}if(Ye(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=t||0!=s.length||this.h.h||(this.s=1,Me(16),r=!1),this.o=this.o&&r,r){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),vn(d),d.M=!0,Me(11))}}else Ve(this.i,this.l,s,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ve(this.i,this.l,s,null),it(this,s);4==t&&rt(this),this.o&&!this.J&&(4==t?gn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){var t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!m(e[n])){var r=x(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),rt(this),nt(this)}}}catch(t){}},Ke.prototype.cancel=function(){this.J=!0,rt(this)},Ke.prototype.ba=function(){this.B=null;var e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Le(),Me(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var at=se((function e(t,n){oe(this,e),this.g=t,this.map=n}));function ot(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ut(e){return!!e.h||!!e.g&&e.g.size>=e.j}function st(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lt(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ae(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return d(e.i)}function dt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}ot.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ae(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof vt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,gt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),kt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=Et(t[2]||""),this.g=Et(t[3]||"",!0),gt(this,t[4]),this.l=Et(t[5]||"",!0),kt(this,t[6]||"",!0),this.m=Et(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function mt(e){return new vt(e)}function yt(e,t,n){e.j=n?Et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function kt(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(Ot(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pt(this,t),Dt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,Nt)),e.i=new Rt(t,e.h))}function bt(e,t,n){e.i.set(t,n)}function wt(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(_t(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?Ct:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",_t(n,At)),e.join("")};var St,Tt=/[#\/\?@]/g,It=/[#\?:]/g,Ct=/[#\?]/g,Nt=/[#\?@]/g,At=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ot(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pt(e,t){Ot(e),t=Mt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Ot(e),t=Mt(e,t),e.g.has(t)}function Dt(e,t,n){Pt(e,t),0<n.length&&(e.i=null,e.g.set(Mt(e,t),d(n)),e.h+=n.length)}function Mt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ut(){this.g=new _e}function jt(e,t,n){var r=n||"";try{dt(e,(function(e,n){var i=e;o(e)&&(i=we(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function zt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){var t="";return b(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bt(e,t,n))}function Gt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){Ot(this),this.i=null,e=Mt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ot(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Ot(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},e.V=function(e){Ot(this);var t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Mt(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ot(this),this.i=null,Lt(this,e=Mt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")},h(Vt,xe),Vt.prototype.g=function(){return new zt(this.l,this.j)},Vt.prototype.i=(St={},function(){return St}),h(zt,he),(e=zt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qt(this):Ht(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,qt(this))},e.Qa=function(e){this.g&&(this.response=e,qt(this))},e.ga=function(){this.g&&qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Gt,he);var Qt=/^https?$/i,Xt=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Zt(e)}function Yt(e){e.A||(e.A=!0,de(e,"complete"),de(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))ve(e.Ea,0,e);else if(de(e,"readystatechange"),4==tn(e)){e.h=!1;try{var t,n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(t=a)){var o;if(o=0===n){var u=String(e.D).match(pt)[1]||null;!u&&i.self&&i.self.location&&(u=i.self.location.protocol.slice(0,-1)),o=!Qt.test(u?u.toLowerCase():"")}t=o}if(t)de(e,"complete"),de(e,"success");else{e.m=6;try{var s=2<tn(e)?e.g.statusText:""}catch(rm){s=""}e.l=s+" ["+e.Z()+"]",Yt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);var n=e.g,r=e.v[0]?function(){}:null;e.g=null,e.v=null,t||de(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hu){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ot(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(sn(e),3==e.G){var t=e.U++,n=mt(e.I);if(bt(n,"SID",e.K),bt(n,"RID",t),bt(n,"TYPE","terminate"),fn(e,n),(t=new Ke(e,e.j,t)).L=2,t.v=wt(mt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(em){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}wn(e)}function un(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function sn(e){un(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!ut(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||P(),R||(I(),R=!0),O.add(t,e),e.B=0}}function ln(e,t){var n;n=t?t.l:e.U++;var r=mt(e.I);bt(r,"SID",e.K),bt(r,"RID",n),bt(r,"AID",e.T),fn(e,r),e.m&&e.o&&Wt(r,e.m,e.o),n=new Ke(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),lt(e.h,n),Xe(n,r,t)}function fn(e,t){e.H&&b(e.H,(function(e,n){bt(t,n,e)})),e.l&&dt({},(function(e,n){bt(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,f=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{jt(f,o,"req"+c+"_")}catch(cu){r&&r(f)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function dn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||P(),R||(I(),R=!0),O.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ue(l(e.Fa,e),kn(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new Ke(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=mt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Wt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=wt(mt(t)),n.m=null,n.P=!0,Je(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function gn(e,t){var n=null;if(e.g==t){yn(e),vn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;de(r=Oe(),new Fe(r,n)),cn(e)}else dn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(st(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ue(l(e.Ga,e,t),kn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bn(e,5);break;case 4:bn(e,10);break;case 3:bn(e,6);break;default:bn(e,2)}}function kn(e,t){var n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function bn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa,a=!r;r=new vt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),wt(r),a?function(e,t){var n=new je;if(i.Image){var r=new Image;r.onload=f(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=f(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=f(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=f(Ft,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;var n=new AbortController,r=setTimeout((function(){n.abort(),Ft(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((function(e){clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)})).catch((function(){clearTimeout(r),Ft(0,0,!1,t)}))}(r.toString(),n)}else Me(2);e.G=0,e.l&&e.l.sa(t),wn(e),sn(e)}function wn(e){if(e.G=0,e.ka=[],e.l){var t=ht(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function En(e,t,n){var r=n instanceof vt?mt(n):new vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),gt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new vt(null);r&&yt(o,r),t&&(o.g=t),a&&gt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&bt(r,n,t),bt(r,"VER",e.la),fn(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Vt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function xn(){}function Sn(){}function Tn(e,t){he.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function In(e){Ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cn(){Ne.call(this),this.status=1}function Nn(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Se(this.o):Se(ze),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Jt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=ae(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(m){u.e(m)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var f,h=ae(n);try{for(h.s();!(f=h.n()).done;){var d=c(f.value,2),p=d[0],v=d[1];this.g.setRequestHeader(p,v)}}catch(m){h.e(m)}finally{h.f()}this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Jt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,de(this,"complete"),de(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(St){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(St){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Me(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ke(this,this.j,e),n=this.o;if(this.S&&(n?_(n=w(n),this.S):n=this.S),null!==this.m||this.O||(t.H=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hn(this,t,r),bt(i=mt(this.I),"RID",e),bt(i,"CVER",22),this.D&&bt(i,"X-HTTP-Session-Id",this.D),fn(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Kt(n)))+"&"+r:this.m&&Wt(i,this.m,n)),lt(this.h,t),this.Ua&&bt(i,"TYPE","init"),this.P?(bt(i,"$req",r),bt(i,"SID","null"),t.T=!0,Xe(t,i,null)):Xe(t,i,r),this.G=2}}else 3==this.G&&(e?ln(this,e):0==this.i.length||ut(this.h)||ln(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ue(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),un(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,un(this),pn(this),Me(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=xn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Sn.prototype.g=function(e,t){return new Tn(e,t)},h(Tn,he),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){on(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=we(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&cn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Tn.aa.N.call(this)},h(In,Ce),h(Cn,Ne),h(Nn,xn),Nn.prototype.ua=function(){de(this.g,"a")},Nn.prototype.ta=function(e){de(this.g,new In(e))},Nn.prototype.sa=function(e){de(this.g,new Cn)},Nn.prototype.ra=function(){de(this.g,"b")},Sn.prototype.createWebChannel=Sn.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,ou=su.createWebChannelTransport=function(){return new Sn},au=su.getStatEventTarget=function(){return Oe()},iu=su.Event=Ae,ru=su.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,nu=su.ErrorCode=Be,qe.COMPLETE="complete",tu=su.EventType=qe,Te.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",he.prototype.listen=he.prototype.K,eu=su.WebChannel=Te,su.FetchXmlHttpFactory=Vt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Zo=su.XhrIo=Gt}).apply("undefined"!==typeof uu?uu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var cu="@firebase/firestore",lu=function(){function e(t){oe(this,e),this.uid=t}return se(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();lu.UNAUTHENTICATED=new lu(null),lu.GOOGLE_CREDENTIALS=new lu("google-credentials-uid"),lu.FIRST_PARTY=new lu("first-party-uid"),lu.MOCK_USER=new lu("mock-user");var fu="10.14.0",hu=new et("@firebase/firestore");function du(){return hu.logLevel}function pu(e){if(hu.logLevel<=Ge.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.debug.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(le(i)))}}function vu(e){if(hu.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.error.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(le(i)))}}function mu(e){if(hu.logLevel<=Ge.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.warn.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(le(i)))}}function yu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fu,") INTERNAL ASSERTION FAILED: ")+e;throw vu(t),new Error(t)}function ku(e,t){e||gu()}function bu(e,t){return e}var wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eu=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return se(n)}(Ae),_u=se((function e(){var t=this;oe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xu=se((function e(t,n){oe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Su=function(){function e(){oe(this,e)}return se(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Tu=function(){function e(t){oe(this,e),this.token=t,this.changeListener=null}return se(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Iu=function(){function e(t){oe(this,e),this.t=t,this.currentUser=lu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return se(e,[{key:"start",value:function(e,t){var n=this;ku(void 0===this.o);var r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _u;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _u,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.o&&(n.auth.addAuthTokenListener(n.o),o())};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _u)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ku("string"==typeof n.accessToken),new xu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ku(null===e||"string"==typeof e),new lu(e)}}]),e}(),Cu=function(){function e(t,n,r){oe(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=lu.FIRST_PARTY,this.I=new Map}return se(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Nu=function(){function e(t,n,r){oe(this,e),this.l=t,this.h=n,this.P=r}return se(e,[{key:"getToken",value:function(){return Promise.resolve(new Cu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Au=se((function e(t){oe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ru=function(){function e(t){oe(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return se(e,[{key:"start",value:function(e,t){var n=this;ku(void 0===this.o);var r=function(e){null!=e.error&&pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.o&&n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ku("string"==typeof t.token),e.R=t.token,new Au(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}]),e}();function Ou(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Pu=function(){function e(){oe(this,e)}return se(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ou(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Lu(e,t){return e<t?-1:e>t?1:0}function Du(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Mu=function(){function e(t,n){if(oe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return se(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Lu(this.nanoseconds,e.nanoseconds):Lu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fu=function(){function e(t){oe(this,e),this.timestamp=t}return se(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Mu(0,0))}},{key:"max",value:function(){return new e(new Mu(253402300799,999999999))}}]),e}(),Uu=function(){function e(t,n,r){oe(this,e),void 0===n?n=0:n>t.length&&gu(),void 0===r?r=t.length-n:r>t.length-n&&gu(),this.segments=t,this.offset=n,this.len=r}return se(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ju=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Eu(wu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,le(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uu),Vu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zu=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Vu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Eu(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Eu(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Eu(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uu),Bu=function(){function e(t){oe(this,e),this.path=t}return se(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ju.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ju.fromString(t))}},{key:"fromName",value:function(t){return new e(ju.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ju.emptyPath())}},{key:"comparator",value:function(e,t){return ju.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ju(t.slice()))}}]),e}(),qu=se((function e(t,n,r,i){oe(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));qu.UNKNOWN_ID=-1;function Hu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fu.fromTimestamp(1e9===r?new Mu(n+1,0):new Mu(n,r));return new Wu(i,Bu.empty(),t)}function Ku(e){return new Wu(e.readTime,e.key,-1)}var Wu=function(){function e(t,n,r){oe(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return se(e,null,[{key:"min",value:function(){return new e(Fu.min(),Bu.empty(),-1)}},{key:"max",value:function(){return new e(Fu.max(),Bu.empty(),-1)}}]),e}();function Gu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Bu.comparator(e.documentKey,t.documentKey))?n:Lu(e.largestBatchId,t.largestBatchId)}var Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xu=function(){function e(){oe(this,e),this.onCommittedListeners=[]}return se(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ju(e){return Yu.apply(this,arguments)}function Yu(){return(Yu=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wu.FAILED_PRECONDITION&&t.message===Qu){e.next=2;break}throw t;case 2:pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(){function e(t){var n=this;oe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return se(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ae(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Zu(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function es(e){return"IndexedDbTransactionError"===e.name}var ts=function(){function e(t,n){var r=this;oe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ie(e)},this.se=function(e){return n.writeSequenceNumber(e)})}return se(e,[{key:"ie",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.se&&this.se(e),e}}]),e}();function ns(e){return null==e}function rs(e){return 0===e&&1/e==-1/0}function is(e){return"number"==typeof e&&Number.isInteger(e)&&!rs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ts.oe=-1;var as=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),os=([].concat(le(as),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),us=os,ss=[].concat(us,["indexConfiguration","indexState","indexEntries"]);[].concat(le(ss),["globals"]);function cs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ls(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hs=function(){function e(t,n){oe(this,e),this.comparator=t,this.root=n||ps.EMPTY}return se(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ps.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ps.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ds(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ds(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ds(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ds(this.root,e,this.comparator,!0)}}]),e}(),ds=function(){function e(t,n,r,i){oe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return se(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ps=function(){function e(t,n,r,i,a){oe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return se(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gu();if(this.right.isRed())throw gu();var e=this.left.check();if(e!==this.right.check())throw gu();return e+(this.isRed()?0:1)}}]),e}();ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1,ps.EMPTY=new(function(){function e(){oe(this,e),this.size=0}return se(e,[{key:"key",get:function(){throw gu()}},{key:"value",get:function(){throw gu()}},{key:"color",get:function(){throw gu()}},{key:"left",get:function(){throw gu()}},{key:"right",get:function(){throw gu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ps(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vs=function(){function e(t){oe(this,e),this.comparator=t,this.data=new hs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ms(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ms(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ms=function(){function e(t){oe(this,e),this.iter=t}return se(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ys=function(){function e(t){oe(this,e),this.fields=t,t.sort(zu.comparator)}return se(e,[{key:"unionWith",value:function(t){var n,r=new vs(zu.comparator),i=ae(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ae(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ae(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Du(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),gs=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return se(n)}(de(Error));var ks=function(e){function t(e){oe(this,t),this.binaryString=e}return se(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Lu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gs("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ks.EMPTY_BYTE_STRING=new ks("");var bs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(ku(!!e),"string"==typeof e){var t=0,n=bs.exec(e);if(ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Es(e.seconds),nanos:Es(e.nanos)}}function Es(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _s(e){return"string"==typeof e?ks.fromBase64String(e):ks.fromUint8Array(e)}function xs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ss(e){var t=e.mapValue.fields.__previous_value__;return xs(t)?Ss(t):t}function Ts(e){var t=ws(e.mapValue.fields.__local_write_time__.timestampValue);return new Mu(t.seconds,t.nanos)}var Is=se((function e(t,n,r,i,a,o,u,s,c){oe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Cs=function(){function e(t,n){oe(this,e),this.projectId=t,this.database=n||"(default)"}return se(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ns={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xs(e)?4:Ks(e)?9007199254740991:qs(e)?10:11:gu()}function Rs(e,t){if(e===t)return!0;var n=As(e);if(n!==As(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ws(e.timestampValue),r=ws(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _s(e.bytesValue).isEqual(_s(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Es(e.geoPointValue.latitude)===Es(t.geoPointValue.latitude)&&Es(e.geoPointValue.longitude)===Es(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Es(e.integerValue)===Es(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Es(e.doubleValue),r=Es(t.doubleValue);return n===r?rs(n)===rs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Du(e.arrayValue.values||[],t.arrayValue.values||[],Rs);case 10:case 11:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cs(n)!==cs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rs(n[i],r[i])))return!1;return!0}(e,t);default:return gu()}}function Os(e,t){return void 0!==(e.values||[]).find((function(e){return Rs(e,t)}))}function Ps(e,t){if(e===t)return 0;var n=As(e),r=As(t);if(n!==r)return Lu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Es(e.integerValue||e.doubleValue),r=Es(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ls(e.timestampValue,t.timestampValue);case 4:return Ls(Ts(e),Ts(t));case 5:return Lu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_s(e),r=_s(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Lu(n[i],r[i]);if(0!==a)return a}return Lu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Lu(Es(e.latitude),Es(t.latitude));return 0!==n?n:Lu(Es(e.longitude),Es(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ds(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a,o=e.fields||{},u=t.fields||{},s=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=u.value)||void 0===r?void 0:r.arrayValue,l=Lu((null===(i=null==s?void 0:s.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==l?l:Ds(s,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ns.mapValue&&t===Ns.mapValue)return 0;if(e===Ns.mapValue)return 1;if(t===Ns.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Lu(r[o],a[o]);if(0!==u)return u;var s=Ps(n[r[o]],i[a[o]]);if(0!==s)return s}return Lu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gu()}}function Ls(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lu(e,t);var n=ws(e),r=ws(t),i=Lu(n.seconds,r.seconds);return 0!==i?i:Lu(n.nanos,r.nanos)}function Ds(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ps(n[i],r[i]);if(a)return a}return Lu(n.length,r.length)}function Ms(e){return Fs(e)}function Fs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ws(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _s(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Bu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ae(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Fs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ae(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Fs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gu()}function Us(e){return!!e&&"integerValue"in e}function js(e){return!!e&&"arrayValue"in e}function Vs(e){return!!e&&"nullValue"in e}function zs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bs(e){return!!e&&"mapValue"in e}function qs(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ls(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ks(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ws=function(){function e(t){oe(this,e),this.value=t}return se(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Bs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hs(t)}},{key:"setAll",value:function(e){var t=this,n=zu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Bs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Rs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Bs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ls(t,(function(t,n){return e[t]=n}));var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gs(e){var t=[];return ls(e.fields,(function(e,n){var r=new zu([e]);if(Bs(n)){var i=Gs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ae(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ys(t)}var Qs=function(){function e(t,n,r,i,a,o,u){oe(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return se(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Fu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Fu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fu.min(),Fu.min(),Fu.min(),Ws.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Fu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fu.min(),Fu.min(),Ws.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fu.min(),Fu.min(),Ws.empty(),2)}}]),e}(),Xs=se((function e(t,n){oe(this,e),this.position=t,this.inclusive=n}));function Js(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Bu.comparator(Bu.fromName(o.referenceValue),n.key):Ps(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ys(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rs(e.position[n],t.position[n]))return!1;return!0}var $s=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";oe(this,e),this.field=t,this.dir=n}));function Zs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ec=se((function e(){oe(this,e)})),tc=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a;return oe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ps(t,this.value)):null!==t&&As(this.value)===As(t)&&this.matchesComparison(Ps(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new cc(e,t,r):"array-contains"===t?new dc(e,r):"in"===t?new pc(e,r):"not-in"===t?new vc(e,r):"array-contains-any"===t?new mc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new lc(e,n):new fc(e,n)}}]),n}(ec),nc=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this)).filters=e,i.op=r,i.ae=null,i}return se(n,[{key:"matches",value:function(e){return rc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ae||(this.ae=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ae}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ec);function rc(e){return"and"===e.op}function ic(e){return ac(e)&&rc(e)}function ac(e){var t,n=ae(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof nc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function oc(e){if(e instanceof tc)return e.field.canonicalString()+e.op.toString()+Ms(e.value);if(ic(e))return e.filters.map((function(e){return oc(e)})).join(",");var t=e.filters.map((function(e){return oc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function uc(e,t){return e instanceof tc?function(e,t){return t instanceof tc&&e.op===t.op&&e.field.isEqual(t.field)&&Rs(e.value,t.value)}(e,t):e instanceof nc?function(e,t){return t instanceof nc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&uc(n,t.filters[r])}),!0)}(e,t):void gu()}function sc(e){return e instanceof tc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ms(e.value))}(e):e instanceof nc?function(e){return e.op.toString()+" {"+e.getFilters().map(sc).join(" ,")+"}"}(e):"Filter"}var cc=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a;return oe(this,n),(a=t.call(this,e,r,i)).key=Bu.fromName(i.referenceValue),a}return se(n,[{key:"matches",value:function(e){var t=Bu.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(tc),lc=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this,e,"in",r)).keys=hc("in",r),i}return se(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tc),fc=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this,e,"not-in",r)).keys=hc("not-in",r),i}return se(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tc);function hc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bu.fromName(e.referenceValue)}))}var dc=function(e){ee(n,e);var t=ie(n);function n(e,r){return oe(this,n),t.call(this,e,"array-contains",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return js(t)&&Os(t.arrayValue,this.value)}}]),n}(tc),pc=function(e){ee(n,e);var t=ie(n);function n(e,r){return oe(this,n),t.call(this,e,"in",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Os(this.value.arrayValue,t)}}]),n}(tc),vc=function(e){ee(n,e);var t=ie(n);function n(e,r){return oe(this,n),t.call(this,e,"not-in",r)}return se(n,[{key:"matches",value:function(e){if(Os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Os(this.value.arrayValue,t)}}]),n}(tc),mc=function(e){ee(n,e);var t=ie(n);function n(e,r){return oe(this,n),t.call(this,e,"array-contains-any",r)}return se(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!js(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Os(t.value.arrayValue,e)}))}}]),n}(tc),yc=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;oe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ue=null}));function gc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new yc(e,t,n,r,i,a,o)}function kc(e){var t=bu(e);if(null===t.ue){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return oc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ns(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ms(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ms(e)})).join(",")),t.ue=n}return t.ue}function bc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!uc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ys(e.startAt,t.startAt)&&Ys(e.endAt,t.endAt)}function wc(e){return Bu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ec=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;oe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}));function _c(e,t,n,r,i,a,o,u){return new Ec(e,t,n,r,i,a,o,u)}function xc(e){return new Ec(e)}function Sc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tc(e){return null!==e.collectionGroup}function Ic(e){var t=bu(e);if(null===t.ce){t.ce=[];var n,r=new Set,i=ae(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.ce.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new vs(zu.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.ce.push(new $s(e,o))})),r.has(zu.keyField().canonicalString())||t.ce.push(new $s(zu.keyField(),o))}return t.ce}function Cc(e){var t=bu(e);return t.le||(t.le=Nc(t,Ic(e))),t.le}function Nc(e,t){if("F"===e.limitType)return gc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new $s(e.field,t)}));var n=e.endAt?new Xs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xs(e.startAt.position,e.startAt.inclusive):null;return gc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Ac(e,t,n){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rc(e,t){return bc(Cc(e),Cc(t))&&e.limitType===t.limitType}function Oc(e){return"".concat(kc(Cc(e)),"|lt:").concat(e.limitType)}function Pc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return sc(e)})).join(", "),"]")),ns(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ms(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ms(e)})).join(",")),"Target(".concat(t,")")}(Cc(e)),"; limitType=").concat(e.limitType,")")}function Lc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ae(Ic(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ae(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Js(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ic(e),t))&&!(e.endAt&&!function(e,t,n){var r=Js(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ic(e),t))}(e,t)}function Dc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mc(e){return function(t,n){var r,i=!1,a=ae(Ic(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Fc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Fc(e,t,n){var r=e.field.isKeyField()?Bu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ps(r,i):gu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gu()}}var Uc=function(){function e(t,n){oe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return se(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ls(this.inner,(function(t,n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jc=new hs(Bu.comparator);function Vc(){return jc}var zc=new hs(Bu.comparator);function Bc(){for(var e=zc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function qc(e){var t=zc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Hc(){return Wc()}function Kc(){return Wc()}function Wc(){return new Uc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gc=new hs(Bu.comparator),Qc=new vs(Bu.comparator);function Xc(){for(var e=Qc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Jc=new vs(Lu);function Yc(){return Jc}function $c(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rs(t)?"-0":t}}function Zc(e){return{integerValue:""+e}}function el(e,t){return is(t)?Zc(t):$c(e,t)}var tl=se((function e(){oe(this,e),this._=void 0}));function nl(e,t,n){return e instanceof al?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xs(t)&&(t=Ss(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ol?ul(e,t):e instanceof sl?cl(e,t):function(e,t){var n=il(e,t),r=fl(n)+fl(e.Pe);return Us(n)&&Us(e.Pe)?Zc(r):$c(e.serializer,r)}(e,t)}function rl(e,t,n){return e instanceof ol?ul(e,t):e instanceof sl?cl(e,t):n}function il(e,t){return e instanceof ll?function(e){return Us(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var al=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n)}(tl),ol=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this)).elements=e,r}return se(n)}(tl);function ul(e,t){var n,r=hl(t),i=ae(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Rs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sl=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this)).elements=e,r}return se(n)}(tl);function cl(e,t){var n,r=hl(t),i=ae(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Rs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ll=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this)).serializer=e,i.Pe=r,i}return se(n)}(tl);function fl(e){return Es(e.integerValue||e.doubleValue)}function hl(e){return js(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dl=se((function e(t,n){oe(this,e),this.version=t,this.transformResults=n})),pl=function(){function e(t,n){oe(this,e),this.updateTime=t,this.exists=n}return se(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ml=se((function e(){oe(this,e)}));function yl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Nl(e.key,pl.none()):new El(e.key,e.data,pl.none());var n,r=e.data,i=Ws.empty(),a=new vs(zu.comparator),o=ae(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new _l(e.key,i,new ys(a.toArray()),pl.none())}function gl(e,t,n){e instanceof El?function(e,t,n){var r=e.value.clone(),i=Sl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _l?function(e,t,n){if(vl(e.precondition,t)){var r=Sl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kl(e,t,n,r){return e instanceof El?function(e,t,n,r){if(!vl(e.precondition,t))return n;var i=e.value.clone(),a=Tl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _l?function(e,t,n,r){if(!vl(e.precondition,t))return n;var i=Tl(e.fieldTransforms,r,t),a=t.data;return a.setAll(xl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bl(e,t){var n,r=null,i=ae(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=il(a.transform,o||null);null!=u&&(null===r&&(r=Ws.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function wl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Du(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ol&&t instanceof ol||e instanceof sl&&t instanceof sl?Du(e.elements,t.elements,Rs):e instanceof ll&&t instanceof ll?Rs(e.Pe,t.Pe):e instanceof al&&t instanceof al}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var El=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return oe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ml),_l=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return oe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return se(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ml);function xl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sl(e,t,n){var r=new Map;ku(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,rl(o,u,n[i]))}return r}function Tl(e,t,n){var r,i=new Map,a=ae(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,nl(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Il,Cl,Nl=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ml),Al=function(e){ee(n,e);var t=ie(n);function n(e,r){var i;return oe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ml),Rl=function(){function e(t,n,r,i){oe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return se(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ae(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=kl(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ae(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=kl(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Kc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Fu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(function(e,t){return wl(e,t)}))&&Du(this.baseMutations,e.baseMutations,(function(e,t){return wl(e,t)}))}}]),e}(),Ol=function(){function e(t,n,r,i){oe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return se(e,null,[{key:"from",value:function(t,n,r){ku(t.mutations.length===r.length);for(var i=Gc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pl=function(){function e(t,n){oe(this,e),this.largestBatchId=t,this.mutation=n}return se(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ll=se((function e(t,n){oe(this,e),this.count=t,this.unchangedNames=n}));function Dl(e){switch(e){default:return gu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function Ml(e){if(void 0===e)return vu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case Il.OK:return wu.OK;case Il.CANCELLED:return wu.CANCELLED;case Il.UNKNOWN:return wu.UNKNOWN;case Il.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case Il.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case Il.INTERNAL:return wu.INTERNAL;case Il.UNAVAILABLE:return wu.UNAVAILABLE;case Il.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case Il.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case Il.NOT_FOUND:return wu.NOT_FOUND;case Il.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case Il.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case Il.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case Il.ABORTED:return wu.ABORTED;case Il.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case Il.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case Il.DATA_LOSS:return wu.DATA_LOSS;default:return gu()}}(Cl=Il||(Il={}))[Cl.OK=0]="OK",Cl[Cl.CANCELLED=1]="CANCELLED",Cl[Cl.UNKNOWN=2]="UNKNOWN",Cl[Cl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cl[Cl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cl[Cl.NOT_FOUND=5]="NOT_FOUND",Cl[Cl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cl[Cl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cl[Cl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cl[Cl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cl[Cl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cl[Cl.ABORTED=10]="ABORTED",Cl[Cl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cl[Cl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cl[Cl.INTERNAL=13]="INTERNAL",Cl[Cl.UNAVAILABLE=14]="UNAVAILABLE",Cl[Cl.DATA_LOSS=15]="DATA_LOSS";var Fl=null;function Ul(){return new TextEncoder}var jl=new Xo([4294967295,4294967295],0);function Vl(e){var t=Ul().encode(e),n=new Jo;return n.update(t),new Uint8Array(n.digest())}function zl(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,a],0)]}var Bl=function(){function e(t,n,r){if(oe(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql("Invalid padding: ".concat(n));if(r<0)throw new ql("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new ql("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new ql("Invalid padding when bitmap length is 0: ".concat(n));this.Ie=8*t.length-n,this.Te=Xo.fromNumber(this.Ie)}return se(e,[{key:"Ee",value:function(e,t,n){var r=e.add(t.multiply(Xo.fromNumber(n)));return 1===r.compare(jl)&&(r=new Xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}},{key:"de",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ie)return!1;for(var t=c(zl(Vl(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ee(n,r,i);if(!this.de(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ie)for(var t=c(zl(Vl(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ee(n,r,i);this.Ae(a)}}},{key:"Ae",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),ql=function(e){ee(n,e);var t=ie(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return se(n)}(de(Error)),Hl=function(){function e(t,n,r,i,a){oe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return se(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Fu.min(),i,new hs(Lu),Vc(),Xc())}}]),e}(),Kl=function(){function e(t,n,r,i,a){oe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return se(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Xc(),Xc(),Xc())}}]),e}(),Wl=se((function e(t,n,r,i){oe(this,e),this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i})),Gl=se((function e(t,n){oe(this,e),this.targetId=t,this.me=n})),Ql=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ks.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;oe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xl=function(){function e(){oe(this,e),this.fe=0,this.ge=$l(),this.pe=ks.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}return se(e,[{key:"current",get:function(){return this.ye}},{key:"resumeToken",get:function(){return this.pe}},{key:"Se",get:function(){return 0!==this.fe}},{key:"be",get:function(){return this.we}},{key:"De",value:function(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}},{key:"ve",value:function(){var e=Xc(),t=Xc(),n=Xc();return this.ge.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gu()}})),new Kl(this.pe,this.ye,e,t,n)}},{key:"Ce",value:function(){this.we=!1,this.ge=$l()}},{key:"Fe",value:function(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}},{key:"Me",value:function(e){this.we=!0,this.ge=this.ge.remove(e)}},{key:"xe",value:function(){this.fe+=1}},{key:"Oe",value:function(){this.fe-=1,ku(this.fe>=0)}},{key:"Ne",value:function(){this.we=!0,this.ye=!0}}]),e}(),Jl=function(){function e(t){oe(this,e),this.Le=t,this.Be=new Map,this.ke=Vc(),this.qe=Yl(),this.Qe=new hs(Lu)}return se(e,[{key:"Ke",value:function(e){var t,n=ae(e.Re);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve)}}catch(u){n.e(u)}finally{n.f()}var i,a=ae(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ue(o,e.key,e.Ve)}}catch(u){a.e(u)}finally{a.f()}}},{key:"We",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ge(n);switch(e.state){case 0:t.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||t.removeTarget(n);break;case 3:t.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:t.ze(n)&&(t.je(n),r.De(e.resumeToken));break;default:gu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((function(e,r){n.ze(r)&&t(r)}))}},{key:"He",value:function(e){var t=e.targetId,n=e.me.count,r=this.Je(t);if(r){var i=r.target;if(wc(i))if(0===n){var a=new Bu(i.path);this.Ue(t,a,Qs.newNoDocument(a,Fu.min()))}else ku(1===n);else{var o=this.Ye(t);if(o!==n){var u=this.Ze(e),s=u?this.Xe(u,e,o):1;if(0!==s){this.je(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}null==Fl||Fl.et(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.me,this.Le.tt(),u,s))}}}}},{key:"Ze",value:function(e){var t=e.me.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=_s(o).toUint8Array()}catch(e){if(e instanceof gs)return mu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Bl(n,s,l)}catch(e){return mu(e instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ie?null:r}},{key:"Xe",value:function(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}},{key:"nt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.tt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ue(t,r,null),i++)})),i}},{key:"rt",value:function(e){var t=this,n=new Map;this.Be.forEach((function(r,i){var a=t.Je(i);if(a){if(r.current&&wc(a.target)){var o=new Bu(a.target.path);null!==t.ke.get(o)||t.it(i,o)||t.Ue(i,o,Qs.newNoDocument(o,e))}r.be&&(n.set(i,r.ve()),r.Ce())}}));var r=Xc();this.qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Je(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hl(e,n,this.Qe,this.ke,r);return this.ke=Vc(),this.qe=Yl(),this.Qe=new hs(Lu),i}},{key:"$e",value:function(e,t){if(this.ze(e)){var n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}}},{key:"Ue",value:function(e,t,n){if(this.ze(e)){var r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Be.delete(e)}},{key:"Ye",value:function(e){var t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"xe",value:function(e){this.Ge(e).xe()}},{key:"Ge",value:function(e){var t=this.Be.get(e);return t||(t=new Xl,this.Be.set(e,t)),t}},{key:"st",value:function(e){var t=this.qe.get(e);return t||(t=new vs(Lu),this.qe=this.qe.insert(e,t)),t}},{key:"ze",value:function(e){var t=null!==this.Je(e);return t||pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Je",value:function(e){var t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}},{key:"je",value:function(e){var t=this;this.Be.set(e,new Xl),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.Ue(e,n,null)}))}},{key:"it",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function Yl(){return new hs(Bu.comparator)}function $l(){return new hs(Bu.comparator)}var Zl={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tf={and:"AND",or:"OR"},nf=se((function e(t,n){oe(this,e),this.databaseId=t,this.useProto3Json=n}));function rf(e,t){return e.useProto3Json||ns(t)?t:{value:t}}function af(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function of(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uf(e,t){return af(e,t.toTimestamp())}function sf(e){return ku(!!e),Fu.fromTimestamp(function(e){var t=ws(e);return new Mu(t.seconds,t.nanos)}(e))}function cf(e,t){return lf(e,t).canonicalString()}function lf(e,t){var n=function(e){return new ju(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ff(e){var t=ju.fromString(e);return ku(Rf(t)),t}function hf(e,t){return cf(e.databaseId,t.path)}function df(e,t){var n=ff(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bu(yf(n))}function pf(e,t){return cf(e.databaseId,t)}function vf(e){var t=ff(e);return 4===t.length?ju.emptyPath():yf(t)}function mf(e){return new ju(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yf(e){return ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gf(e,t,n){return{name:hf(e,t),fields:n.value.mapValue.fields}}function kf(e,t){var n;if(t instanceof El)n={update:gf(e,t.key,t.value)};else if(t instanceof Nl)n={delete:hf(e,t.key)};else if(t instanceof _l)n={update:gf(e,t.key,t.data),updateMask:Af(t.fieldMask)};else{if(!(t instanceof Al))return gu();n={verify:hf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof al)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ol)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ll)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw gu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gu()}(e,t.precondition)),n}function bf(e,t){return{documents:[pf(e,t.path)]}}function wf(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=pf(e,n);var a=function(e){if(0!==e.length)return Nf(nc.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:If(e.field),direction:xf(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var u=rf(e,t.limit);return null!==u&&(r.structuredQuery.limit=u),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:r,parent:n}}function Ef(e){var t=vf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ku(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=_f(e);return t instanceof nc&&ic(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new $s(Cf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return ns(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Xs(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Xs(n,t)}(n.endAt)),_c(t,i,u,o,s,"F",c,l)}function _f(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cf(e.unaryFilter.field);return tc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(e.unaryFilter.field);return tc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(e.unaryFilter.field);return tc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(e.unaryFilter.field);return tc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gu()}}(e):void 0!==e.fieldFilter?function(e){return tc.create(Cf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nc.create(e.compositeFilter.filters.map((function(e){return _f(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gu()}}(e.compositeFilter.op))}(e):gu()}function xf(e){return Zl[e]}function Sf(e){return ef[e]}function Tf(e){return tf[e]}function If(e){return{fieldPath:e.canonicalString()}}function Cf(e){return zu.fromServerFormat(e.fieldPath)}function Nf(e){return e instanceof tc?function(e){if("=="===e.op){if(zs(e.value))return{unaryFilter:{field:If(e.field),op:"IS_NAN"}};if(Vs(e.value))return{unaryFilter:{field:If(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zs(e.value))return{unaryFilter:{field:If(e.field),op:"IS_NOT_NAN"}};if(Vs(e.value))return{unaryFilter:{field:If(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:If(e.field),op:Sf(e.op),value:e.value}}}(e):e instanceof nc?function(e){var t=e.getFilters().map((function(e){return Nf(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Tf(e.op),filters:t}}}(e):gu()}function Af(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Of=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ks.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;oe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return se(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Pf=se((function e(t){oe(this,e),this.ct=t}));function Lf(e){var t=Ef({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ac(t,t.limit,"L"):t}var Df=function(){function e(){oe(this,e)}return se(e,[{key:"It",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Es(e.integerValue));else if("doubleValue"in e){var n=Es(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),rs(n)?t.At(0):t.At(n))}else if("timestampValue"in e){var r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=ws(r)),t.Rt("".concat(r.seconds||"")),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_s(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Ks(e)?this.dt(t,Number.MAX_SAFE_INTEGER):qs(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):gu()}},{key:"Vt",value:function(e,t){this.dt(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Rt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.dt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Vt(a,t),this.Tt(n[a],t)}}},{key:"wt",value:function(e,t){var n,r,i=e.fields||{};this.dt(t,53);var a="value",o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Es(o)),this.Vt(a,t),this.Tt(i[a],t)}},{key:"bt",value:function(e,t){var n=e.values||[];this.dt(t,50);var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"yt",value:function(e,t){var n=this;this.dt(t,37),Bu.fromName(e).path.forEach((function(e){n.dt(t,60),n.Dt(e,t)}))}},{key:"dt",value:function(e,t){e.At(t)}},{key:"ft",value:function(e){e.At(2)}}]),e}();Df.vt=new Df;var Mf=function(){function e(){oe(this,e),this.un=new Ff}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.un.add(t),$u.resolve()}},{key:"getCollectionParents",value:function(e,t){return $u.resolve(this.un.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $u.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $u.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return $u.resolve()}},{key:"createTargetIndexes",value:function(e,t){return $u.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return $u.resolve(null)}},{key:"getIndexType",value:function(e,t){return $u.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return $u.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $u.resolve(null)}},{key:"getMinOffset",value:function(e,t){return $u.resolve(Wu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return $u.resolve(Wu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return $u.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $u.resolve()}}]),e}(),Ff=function(){function e(){oe(this,e),this.index={}}return se(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vs(ju.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vs(ju.comparator)).toArray()}}]),e}();new Uint8Array(0);var Uf=function(){function e(t,n,r){oe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return se(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Uf.DEFAULT_COLLECTION_PERCENTILE=10,Uf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uf.DEFAULT=new Uf(41943040,Uf.DEFAULT_COLLECTION_PERCENTILE,Uf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uf.DISABLED=new Uf(-1,0,0);var jf=function(){function e(t){oe(this,e),this.Ln=t}return se(e,[{key:"next",value:function(){return this.Ln+=2,this.Ln}}],[{key:"Bn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}();var Vf=function(){function e(){oe(this,e),this.changes=new Uc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return se(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$u.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var zf=se((function e(t,n){oe(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Bf=function(){function e(t,n,r,i){oe(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return se(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&kl(r.mutation,e,ys.empty(),Mu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Xc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xc(),i=Hc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Bc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Hc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Xc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Vc(),a=Wc(),o=Wc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _l)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),kl(o.mutation,t,o.mutation.getFieldMask(),Mu.now())):a.set(t.key,ys.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new zf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Wc(),i=new hs((function(e,t){return e-t})),a=Xc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ae(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ys.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Xc()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Kc();c.forEach((function(e){if(!a.has(e)){var n=yl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return $u.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Bu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):$u.resolve(Hc()),u=-1,s=a;return o.next((function(t){return $u.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?$u.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Xc())})).next((function(e){return{batchId:u,changes:qc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Bu(t)).next((function(e){var t=Bc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Bc();return this.indexManager.getCollectionParents(e,a).next((function(u){return $u.forEach(u,(function(u){var s=function(e,t){return new Ec(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qs.newInvalidDocument(r)))}));var n=Bc();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&kl(a.mutation,r,ys.empty(),Mu.now()),Lc(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),qf=function(){function e(t){oe(this,e),this.serializer=t,this.hr=new Map,this.Pr=new Map}return se(e,[{key:"getBundleMetadata",value:function(e,t){return $u.resolve(this.hr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sf(e.createTime)}}(t)),$u.resolve()}},{key:"getNamedQuery",value:function(e,t){return $u.resolve(this.Pr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Lf(e.bundledQuery),readTime:sf(e.readTime)}}(t)),$u.resolve()}}]),e}(),Hf=function(){function e(){oe(this,e),this.overlays=new hs(Bu.comparator),this.Ir=new Map}return se(e,[{key:"getOverlay",value:function(e,t){return $u.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Hc();return $u.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),$u.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ir.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ir.delete(n)),$u.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Hc(),i=t.length+1,a=new Bu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $u.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new hs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Hc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Hc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return $u.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pl(t,n));var a=this.Ir.get(t);void 0===a&&(a=Xc(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}]),e}(),Kf=function(){function e(){oe(this,e),this.sessionToken=ks.EMPTY_BYTE_STRING}return se(e,[{key:"getSessionToken",value:function(e){return $u.resolve(this.sessionToken)}},{key:"setSessionToken",value:function(e,t){return this.sessionToken=t,$u.resolve()}}]),e}(),Wf=function(){function e(){oe(this,e),this.Tr=new vs(Gf.Er),this.dr=new vs(Gf.Ar)}return se(e,[{key:"isEmpty",value:function(){return this.Tr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Gf(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Vr(new Gf(e,t))}},{key:"mr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"gr",value:function(e){var t=this,n=new Bu(new ju([])),r=new Gf(n,e),i=new Gf(n,e+1),a=[];return this.dr.forEachInRange([r,i],(function(e){t.Vr(e),a.push(e.key)})),a}},{key:"pr",value:function(){var e=this;this.Tr.forEach((function(t){return e.Vr(t)}))}},{key:"Vr",value:function(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}},{key:"yr",value:function(e){var t=new Bu(new ju([])),n=new Gf(t,e),r=new Gf(t,e+1),i=Xc();return this.dr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Gf(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Gf=function(){function e(t,n){oe(this,e),this.key=t,this.wr=n}return se(e,null,[{key:"Er",value:function(e,t){return Bu.comparator(e.key,t.key)||Lu(e.wr,t.wr)}},{key:"Ar",value:function(e,t){return Lu(e.wr,t.wr)||Bu.comparator(e.key,t.key)}}]),e}(),Qf=function(){function e(t,n){oe(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vs(Gf.Er)}return se(e,[{key:"checkEmpty",value:function(e){return $u.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Rl(i,t,n,r);this.mutationQueue.push(a);var o,u=ae(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.br=this.br.add(new Gf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $u.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $u.resolve(this.Dr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.vr(n),i=r<0?0:r;return $u.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $u.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}},{key:"getAllMutationBatches",value:function(e){return $u.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Gf(t,0),i=new Gf(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(function(e){var t=n.Dr(e.wr);a.push(t)})),$u.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vs(Lu);return t.forEach((function(e){var t=new Gf(e,0),i=new Gf(e,Number.POSITIVE_INFINITY);n.br.forEachInRange([t,i],(function(e){r=r.add(e.wr)}))})),$u.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Bu.isDocumentKey(i)||(i=i.child(""));var a=new Gf(new Bu(i),0),o=new vs(Lu);return this.br.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),a),$u.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Dr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ku(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.br;return $u.forEach(t.mutations,(function(i){var a=new Gf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.br=r}))}},{key:"On",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Gf(t,0),r=this.br.firstAfterOrEqual(n);return $u.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,$u.resolve()}},{key:"Fr",value:function(e,t){return this.vr(e)}},{key:"vr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Dr",value:function(e){var t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Xf=function(){function e(t){oe(this,e),this.Mr=t,this.docs=new hs(Bu.comparator),this.size=0}return se(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $u.resolve(n?n.document.mutableCopy():Qs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qs.newInvalidDocument(e))})),$u.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Vc(),a=t.path,o=new Bu(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Gu(Ku(l),n)<=0||(r.has(l.key)||Lc(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return $u.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gu()}},{key:"Or",value:function(e,t){return $u.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Jf(this)}},{key:"getSize",value:function(e){return $u.resolve(this.size)}}]),e}(),Jf=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this)).cr=e,r}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.cr.addEntry(e,i)):t.cr.removeEntry(r)})),$u.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.cr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.cr.getEntries(e,t)}}]),n}(Vf),Yf=function(){function e(t){oe(this,e),this.persistence=t,this.Nr=new Uc((function(e){return kc(e)}),bc),this.lastRemoteSnapshotVersion=Fu.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wf,this.targetCount=0,this.kr=jf.Bn()}return se(e,[{key:"forEachTarget",value:function(e,t){return this.Nr.forEach((function(e,n){return t(n)})),$u.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $u.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $u.resolve(this.Lr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.kr.next(),$u.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),$u.resolve()}},{key:"Kn",value:function(e){this.Nr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.kr=new jf(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Kn(t),this.targetCount+=1,$u.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Kn(t),$u.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$u.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Nr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Nr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$u.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $u.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Nr.get(t)||null;return $u.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Rr(t,n),$u.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.mr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$u.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.gr(t),$u.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.yr(t);return $u.resolve(n)}},{key:"containsKey",value:function(e,t){return $u.resolve(this.Br.containsKey(t))}}]),e}(),$f=function(){function e(t,n){var r=this;oe(this,e),this.qr={},this.overlays={},this.Qr=new ts(0),this.Kr=!1,this.Kr=!0,this.$r=new Kf,this.referenceDelegate=t(this),this.Ur=new Yf(this),this.indexManager=new Mf,this.remoteDocumentCache=function(e){return new Xf(e)}((function(e){return r.referenceDelegate.Wr(e)})),this.serializer=new Pf(n),this.Gr=new qf(this.serializer)}return se(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Hf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.qr[e.toKey()];return n||(n=new Qf(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}},{key:"getGlobalsCache",value:function(){return this.$r}},{key:"getTargetCache",value:function(){return this.Ur}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Gr}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("MemoryPersistence","Starting transaction:",e);var i=new Zf(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((function(e){return r.referenceDelegate.jr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Hr",value:function(e,t){return $u.or(Object.values(this.qr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Zf=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return se(n)}(Xu),eh=function(){function e(t){oe(this,e),this.persistence=t,this.Jr=new Wf,this.Yr=null}return se(e,[{key:"Xr",get:function(){if(this.Yr)return this.Yr;throw gu()}},{key:"addReference",value:function(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),$u.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),$u.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xr.add(t.toString()),$u.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Jr.gr(t.targetId).forEach((function(e){return n.Xr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"zr",value:function(){this.Yr=new Set}},{key:"jr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $u.forEach(this.Xr,(function(r){var i=Bu.fromPath(r);return t.ei(e,i).next((function(e){e||n.removeEntry(i,Fu.min())}))})).next((function(){return t.Yr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ei(e,t).next((function(e){e?n.Xr.delete(t.toString()):n.Xr.add(t.toString())}))}},{key:"Wr",value:function(e){return 0}},{key:"ei",value:function(e,t){var n=this;return $u.or([function(){return $u.resolve(n.Jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Hr(e,t)}])}}],[{key:"Zr",value:function(t){return new e(t)}}]),e}();var th=function(){function e(t,n,r,i){oe(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}return se(e,null,[{key:"Wi",value:function(t,n){var r,i=Xc(),a=Xc(),o=ae(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),nh=function(){function e(){oe(this,e),this._documentReadCount=0}return se(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),rh=function(){function e(){oe(this,e),this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Ce()?8:Zu(Te())>0?6:4}return se(e,[{key:"initialize",value:function(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Yi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Zi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new nh;return i.Xi(e,t,n).next((function(r){if(a.result=r,i.zi)return i.es(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"es",value:function(e,t,n,r){return n.documentReadCount<this.ji?(du()<=Ge.DEBUG&&pu("QueryEngine","SDK will not create cache indexes for query:",Pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$u.resolve()):(du()<=Ge.DEBUG&&pu("QueryEngine","Query:",Pc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(du()<=Ge.DEBUG&&pu("QueryEngine","The SDK decides to create cache indexes for query:",Pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cc(t))):$u.resolve())}},{key:"Yi",value:function(e,t){var n=this;if(Sc(t))return $u.resolve(null);var r=Cc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ac(t,null,"F"),r=Cc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Xc.apply(void 0,le(i));return n.Ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ts(t,i);return n.ns(t,o,a,r.readTime)?n.Yi(e,Ac(t,null,"F")):n.rs(e,o,t,r)}))}))})))}))}},{key:"Zi",value:function(e,t,n,r){var i=this;return Sc(t)||r.isEqual(Fu.min())?$u.resolve(null):this.Ji.getDocuments(e,n).next((function(a){var o=i.ts(t,a);return i.ns(t,o,n,r)?$u.resolve(null):(du()<=Ge.DEBUG&&pu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pc(t)),i.rs(e,o,t,Hu(r,-1)).next((function(e){return e})))}))}},{key:"ts",value:function(e,t){var n=new vs(Mc(e));return t.forEach((function(t,r){Lc(e,r)&&(n=n.add(r))})),n}},{key:"ns",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Xi",value:function(e,t,n){return du()<=Ge.DEBUG&&pu("QueryEngine","Using full collection scan to execute query:",Pc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Wu.min(),n)}},{key:"rs",value:function(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ih=function(){function e(t,n,r,i){oe(this,e),this.persistence=t,this.ss=n,this.serializer=i,this.os=new hs(Lu),this._s=new Uc((function(e){return kc(e)}),bc),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}return se(e,[{key:"ls",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.os)}))}}]),e}();function ah(e,t,n,r){return new ih(e,t,n,r)}function oh(e,t){return uh.apply(this,arguments)}function uh(){return uh=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ls(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Xc(),s=ae(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ae(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ae(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ae(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{hs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t){var n=bu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$u.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Xc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ch(e){var t=bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ur.getLastRemoteSnapshotVersion(e)}))}function lh(e,t){var n=bu(e),r=t.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ur.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ur.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(ks.EMPTY_BYTE_STRING,Fu.min()).withLastLimboFreeSnapshotVersion(Fu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ur.updateTargetData(e,c))}}));var u=Vc(),s=Xc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fh(e,a,t.documentUpdates).next((function(e){u=e.Ps,s=e.Is}))),!r.isEqual(Fu.min())){var c=n.Ur.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return $u.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.os=i,e}))}function fh(e,t,n){var r=Xc(),i=Xc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Fu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Ps:r,Is:i}}))}function hh(e,t){var n=bu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function dh(e,t){var n=bu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ur.getTargetData(e,t).next((function(i){return i?(r=i,$u.resolve(r)):n.Ur.allocateTargetId(e).next((function(i){return r=new Of(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}function ph(e,t,n){return vh.apply(this,arguments)}function vh(){return vh=W(Q().mark((function e(t,n,r){var i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bu(t),a=i.os.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),es(e.t1)){e.next=12;break}throw e.t1;case 12:pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.os=i.os.remove(n),i._s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vh.apply(this,arguments)}function mh(e,t,n){var r=bu(e),i=Fu.min(),a=Xc();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=bu(e),i=r._s.get(n);return void 0!==i?$u.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Cc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ss.getDocumentsMatchingQuery(e,t,n?i:Fu.min(),n?a:Xc())})).next((function(e){return yh(r,Dc(t),e),{documents:e,Ts:a}}))}))}function yh(e,t,n){var r=e.us.get(t)||Fu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}var gh=function(){function e(){oe(this,e),this.activeTargetIds=Yc()}return se(e,[{key:"fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"gs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Vs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),kh=function(){function e(){oe(this,e),this.so=new gh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return se(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&this.so.fs(e),this.oo[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.oo[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.so.gs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.so.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.oo[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.so.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.so.activeTargetIds.has(e)}},{key:"start",value:function(){return this.so=new gh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bh=function(){function e(){oe(this,e)}return se(e,[{key:"_o",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wh=function(){function e(){var t=this;oe(this,e),this.ao=function(){return t.uo()},this.co=function(){return t.lo()},this.ho=[],this.Po()}return se(e,[{key:"_o",value:function(e){this.ho.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}},{key:"Po",value:function(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}},{key:"uo",value:function(){pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ae(this.ho);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"lo",value:function(){pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ae(this.ho);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Eh=null;function _h(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}var xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Sh=function(){function e(t){oe(this,e),this.Io=t.Io,this.To=t.To}return se(e,[{key:"Eo",value:function(e){this.Ao=e}},{key:"Ro",value:function(e){this.Vo=e}},{key:"mo",value:function(e){this.fo=e}},{key:"onMessage",value:function(e){this.po=e}},{key:"close",value:function(){this.To()}},{key:"send",value:function(e){this.Io(e)}},{key:"yo",value:function(){this.Ao()}},{key:"wo",value:function(){this.Vo()}},{key:"So",value:function(e){this.fo(e)}},{key:"bo",value:function(e){this.po(e)}}]),e}(),Th="WebChannelConnection",Ih=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return se(n,[{key:"No",value:function(e,t,n,r){var i=_h();return new Promise((function(a,o){var u=new Zo;u.setWithCredentials(!0),u.listenOnce(tu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case nu.NO_ERROR:var t=u.getResponseJson();pu(Th,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case nu.TIMEOUT:pu(Th,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Eu(wu.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:var n=u.getStatus();if(pu(Th,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(s.status);o(new Eu(c,s.message))}else o(new Eu(wu.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Eu(wu.UNAVAILABLE,"Connection failed."));break;default:gu()}}finally{pu(Th,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);pu(Th,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Bo",value:function(e,t,n){var r=_h(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ou(),o=au(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");pu(Th,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Sh({Io:function(t){h?pu(Th,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(pu(Th,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),pu(Th,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},To:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,eu.EventType.OPEN,(function(){h||(pu(Th,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),d.yo())})),p(l,eu.EventType.CLOSE,(function(){h||(h=!0,pu(Th,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.So())})),p(l,eu.EventType.ERROR,(function(t){h||(h=!0,mu(Th,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.So(new Eu(wu.UNAVAILABLE,"The operation could not be completed")))})),p(l,eu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ku(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){pu(Th,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Il[e];if(void 0!==t)return Ml(t)}(u),c=o.message;void 0===s&&(s=wu.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.So(new Eu(s,c)),l.close()}else pu(Th,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.bo(i)}})),p(o,iu.STAT_EVENT,(function(t){t.stat===ru.PROXY?pu(Th,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ru.NOPROXY&&pu(Th,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.wo()}),0),d}}]),n}(function(){function e(t){oe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo="projects/".concat(r,"/databases/").concat(i),this.Co="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return se(e,[{key:"Fo",get:function(){return!1}},{key:"Mo",value:function(e,t,n,r,i){var a=_h(),o=this.xo(e,t.toUriEncodedString());pu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,r,i),this.No(e,o,u,n).then((function(t){return pu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw mu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Lo",value:function(e,t,n,r,i,a){return this.Mo(e,t,n,r,i)}},{key:"Oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"xo",value:function(e,t){var n=xh[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function Ch(){return"undefined"!=typeof document?document:null}function Nh(e){return new nf(e,!0)}var Ah=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;oe(this,e),this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}return se(e,[{key:"reset",value:function(){this.Ko=0}},{key:"Wo",value:function(){this.Ko=this.Qo}},{key:"Go",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(function(){return t.Uo=Date.now(),e()})),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}},{key:"jo",value:function(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}},{key:"cancel",value:function(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}},{key:"zo",value:function(){return(Math.random()-.5)*this.Ko}}]),e}(),Rh=function(){function e(t,n,r,i,a,o,u,s){oe(this,e),this.ui=t,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ah(t,n)}return se(e,[{key:"n_",value:function(){return 1===this.state||5===this.state||this.r_()}},{key:"r_",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){this.e_=0,4!==this.state?this.auth():this.i_()}},{key:"stop",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.n_(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"s_",value:function(){this.state=0,this.t_.reset()}},{key:"o_",value:function(){var e=this;this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(function(){return e.__()})))}},{key:"a_",value:function(e){this.u_(),this.stream.send(e)}},{key:"__",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.r_()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"u_",value:function(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}},{key:"c_",value:function(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}},{key:"close",value:function(){var e=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==t?this.t_.reset():n&&n.code===wu.RESOURCE_EXHAUSTED?(vu(n.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.mo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"l_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Yo===n&&e.P_(i,a)}),(function(n){t((function(){var t=new Eu(wu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.I_(t)}))}))}},{key:"P_",value:function(e,t){var n=this,r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((function(){r((function(){return n.listener.Eo()}))})),this.stream.Ro((function(){r((function(){return n.state=2,n.Xo=n.ui.enqueueAfterDelay(n.Jo,1e4,(function(){return n.r_()&&(n.state=3),Promise.resolve()})),n.listener.Ro()}))})),this.stream.mo((function(e){r((function(){return n.I_(e)}))})),this.stream.onMessage((function(e){r((function(){return 1==++n.e_?n.E_(e):n.onNext(e)}))}))}},{key:"i_",value:function(){var e=this;this.state=5,this.t_.Go(W(Q().mark((function t(){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"I_",value:function(e){return pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"h_",value:function(e){var t=this;return function(n){t.ui.enqueueAndForget((function(){return t.Yo===e?n():(pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Oh=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a,o,u){var s;return oe(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return se(n,[{key:"T_",value:function(e,t){return this.connection.Bo("Listen",e,t)}},{key:"E_",value:function(e){return this.onNext(e)}},{key:"onNext",value:function(e){this.t_.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ku(void 0===t||"string"==typeof t),ks.fromBase64String(t||"")):(ku(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ks.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wu.UNKNOWN:Ml(e.code);return new Eu(t,e.message||"")}(o);n=new Ql(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=df(e,s.document.name),l=sf(s.document.updateTime),f=s.document.createTime?sf(s.document.createTime):Fu.min(),h=new Ws({mapValue:{fields:s.document.fields}}),d=Qs.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Wl(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=df(e,m.document),g=m.readTime?sf(m.readTime):Fu.min(),k=Qs.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Wl([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var E=df(e,w.document),_=w.removedTargetIds||[];n=new Wl([],_,E,null)}else{if(!("filter"in t))return gu();t.filter;var x=t.filter;x.targetId;var S=x.count,T=void 0===S?0:S,I=x.unchangedNames,C=new Ll(T,I),N=x.targetId;n=new Gl(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Fu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fu.min():t.readTime?sf(t.readTime):Fu.min()}(e);return this.listener.d_(t,n)}},{key:"A_",value:function(e){var t={};t.database=mf(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=wc(r)?{documents:bf(e,r)}:{query:wf(e,r)._t}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=of(e,t.resumeToken);var i=rf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Fu.min())>0){n.readTime=af(e,t.snapshotVersion.toTimestamp());var a=rf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}},{key:"R_",value:function(e){var t={};t.database=mf(this.serializer),t.removeTarget=e,this.a_(t)}}]),n}(Rh),Ph=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a,o,u){var s;return oe(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return se(n,[{key:"V_",get:function(){return this.e_>0}},{key:"start",value:function(){this.lastStreamToken=void 0,Y(X(n.prototype),"start",this).call(this)}},{key:"l_",value:function(){this.V_&&this.m_([])}},{key:"T_",value:function(e,t){return this.connection.Bo("Write",e,t)}},{key:"E_",value:function(e){return ku(!!e.streamToken),this.lastStreamToken=e.streamToken,ku(!e.writeResults||0===e.writeResults.length),this.listener.f_()}},{key:"onNext",value:function(e){ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();var t=function(e,t){return e&&e.length>0?(ku(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sf(e.updateTime):sf(t);return n.isEqual(Fu.min())&&(n=sf(t)),new dl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sf(e.commitTime);return this.listener.g_(n,t)}},{key:"p_",value:function(){var e={};e.database=mf(this.serializer),this.a_(e)}},{key:"m_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return kf(t.serializer,e)}))};this.a_(n)}}]),n}(Rh),Lh=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a){var o;return oe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.y_=!1,o}return se(n,[{key:"w_",value:function(){if(this.y_)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mo",value:function(e,t,n,r){var i=this;return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.Mo(e,lf(t,n),r,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}},{key:"Lo",value:function(e,t,n,r,i){var a=this;return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=c(o,2),s=u[0],l=u[1];return a.connection.Lo(e,lf(t,n),r,s,l,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.y_=!0,this.connection.terminate()}}]),n}(se((function e(){oe(this,e)}))),Dh=function(){function e(t,n){oe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}return se(e,[{key:"v_",value:function(){var e=this;0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.b_=null,e.F_("Backend didn't respond within 10 seconds."),e.C_("Offline"),Promise.resolve()})))}},{key:"M_",value:function(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}},{key:"set",value:function(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}},{key:"C_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"F_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(vu(t),this.D_=!1):pu("OnlineStateTracker",t)}},{key:"x_",value:function(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}]),e}(),Mh=se((function e(t,n,r,i,a){var o=this;oe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((function(e){r.enqueueAndForget(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Gh(o),!e.t0){e.next=5;break}return pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bu(t)).L_.add(4),e.next=4,jh(n);case 4:return n.q_.set("Unknown"),n.L_.delete(4),e.next=8,Fh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.q_=new Dh(r,i)}));function Fh(e){return Uh.apply(this,arguments)}function Uh(){return(Uh=W(Q().mark((function e(t){var n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gh(t)){e.next=18;break}n=ae(t.B_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function jh(e){return Vh.apply(this,arguments)}function Vh(){return(Vh=W(Q().mark((function e(t){var n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ae(t.B_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function zh(e,t){var n=bu(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Wh(n)?Kh(n):xd(n).r_()&&qh(n,t))}function Bh(e,t){var n=bu(e),r=xd(n);n.N_.delete(t),r.r_()&&Hh(n,t),0===n.N_.size&&(r.r_()?r.o_():Gh(n)&&n.q_.set("Unknown"))}function qh(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fu.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xd(e).A_(t)}function Hh(e,t){e.Q_.xe(t),xd(e).R_(t)}function Kh(e){e.Q_=new Jl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ot:function(t){return e.N_.get(t)||null},tt:function(){return e.datastore.serializer.databaseId}}),xd(e).start(),e.q_.v_()}function Wh(e){return Gh(e)&&!xd(e).n_()&&e.N_.size>0}function Gh(e){return 0===bu(e).L_.size}function Qh(e){e.Q_=void 0}function Xh(e){return Jh.apply(this,arguments)}function Jh(){return(Jh=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.q_.set("Online");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e){return $h.apply(this,arguments)}function $h(){return($h=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.N_.forEach((function(e,n){qh(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return(ed=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qh(t),Wh(t)?(t.q_.M_(n),Kh(t)):t.q_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=W(Q().mark((function e(t,n,r){var i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.q_.set("Online"),!(n instanceof Ql&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=W(Q().mark((function e(t,n){var r,i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ae(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.N_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.N_.delete(o),t.Q_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wl?t.Q_.Ke(n):n instanceof Gl?t.Q_.He(n):t.Q_.We(n),r.isEqual(Fu.min())){e.next=29;break}return e.prev=14,e.next=17,ch(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Q_.rt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.N_.get(t);if(r){e.N_.set(t,r.withResumeToken(ks.EMPTY_BYTE_STRING,r.snapshotVersion)),Hh(e,t);var i=new Of(r.target,t,n,r.sequenceNumber);qh(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nd.apply(this,arguments)}function rd(e,t,n){return id.apply(this,arguments)}function id(){return(id=W(Q().mark((function e(t,n,r){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(es(n)){e.next=2;break}throw n;case 2:return t.L_.add(1),e.next=5,jh(t);case 5:t.q_.set("Offline"),r||(r=function(){return ch(t.localStore)}),t.asyncQueue.enqueueRetryable(W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.L_.delete(1),e.next=6,Fh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ad(e,t){return t().catch((function(n){return rd(e,n,t)}))}function od(e){return ud.apply(this,arguments)}function ud(){return ud=W(Q().mark((function e(t){var n,r,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bu(t),r=Sd(n),i=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;case 2:if(!sd(n)){e.next=19;break}return e.prev=3,e.next=6,hh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.O_.length&&r.o_(),e.abrupt("break",19);case 10:i=a.batchId,cd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rd(n,e.t0);case 17:e.next=2;break;case 19:ld(n)&&fd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ud.apply(this,arguments)}function sd(e){return Gh(e)&&e.O_.length<10}function cd(e,t){e.O_.push(t);var n=Sd(e);n.r_()&&n.V_&&n.m_(t.mutations)}function ld(e){return Gh(e)&&!Sd(e).n_()&&e.O_.length>0}function fd(e){Sd(e).start()}function hd(e){return dd.apply(this,arguments)}function dd(){return(dd=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sd(t).p_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pd(e){return vd.apply(this,arguments)}function vd(){return(vd=W(Q().mark((function e(t){var n,r,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sd(t),r=ae(t.O_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.m_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e,t,n){return yd.apply(this,arguments)}function yd(){return yd=W(Q().mark((function e(t,n,r){var i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.O_.shift(),a=Ol.from(i,n,r),e.next=3,ad(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,od(t);case 5:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){return kd.apply(this,arguments)}function kd(){return kd=W(Q().mark((function e(t,n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Sd(t).V_,!e.t0){e.next=4;break}return e.next=4,function(){var e=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Dl(e)&&e!==wu.ABORTED}(n.code)){e.next=7;break}return r=t.O_.shift(),Sd(t).s_(),e.next=5,ad(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,od(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ld(t)&&fd(t);case 5:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=W(Q().mark((function e(t,n){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=bu(t)).asyncQueue.verifyOperationInProgress(),pu("RemoteStore","RemoteStore received new credentials"),i=Gh(r),r.L_.add(3),e.next=6,jh(r);case 6:return i&&r.q_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.L_.delete(3),e.next=12,Fh(r);case 12:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function Ed(e,t){return _d.apply(this,arguments)}function _d(){return(_d=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bu(t),!n){e.next=7;break}return r.L_.delete(2),e.next=5,Fh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.L_.add(2),e.next=12,jh(r);case 12:r.q_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e){return e.K_||(e.K_=function(e,t,n){var r=bu(e);return r.w_(),new Oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Xh.bind(null,e),Ro:Yh.bind(null,e),mo:Zh.bind(null,e),d_:td.bind(null,e)}),e.B_.push(function(){var t=W(Q().mark((function t(n){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.K_.s_(),Wh(e)?Kh(e):e.q_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.K_.stop();case 6:Qh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.K_}function Sd(e){return e.U_||(e.U_=function(e,t,n){var r=bu(e);return r.w_(),new Ph(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:function(){return Promise.resolve()},Ro:hd.bind(null,e),mo:gd.bind(null,e),f_:pd.bind(null,e),g_:md.bind(null,e)}),e.B_.push(function(){var t=W(Q().mark((function t(n){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.U_.s_(),t.next=4,od(e);case 4:t.next=9;break;case 6:return t.next=8,e.U_.stop();case 8:e.O_.length>0&&(pu("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.U_}var Td=function(){function e(t,n,r,i,a){oe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return se(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Id(e,t){if(vu("AsyncQueue","".concat(t,": ").concat(e)),es(e))return new Eu(wu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Cd,Nd,Ad=function(){function e(t){oe(this,e),this.comparator=t?function(e,n){return t(e,n)||Bu.comparator(e.key,n.key)}:function(e,t){return Bu.comparator(e.key,t.key)},this.keyedMap=Bc(),this.sortedSet=new hs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Rd=function(){function e(){oe(this,e),this.W_=new hs(Bu.comparator)}return se(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):gu():this.W_=this.W_.insert(t,e)}},{key:"G_",value:function(){var e=[];return this.W_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Od=function(){function e(t,n,r,i,a,o,u,s,c){oe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return se(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ad.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Pd=function(){function e(){oe(this,e),this.z_=void 0,this.j_=[]}return se(e,[{key:"H_",value:function(){return this.j_.some((function(e){return e.J_()}))}}]),e}(),Ld=function(){function e(){oe(this,e),this.queries=Dd(),this.onlineState="Unknown",this.Y_=new Set}return se(e,[{key:"terminate",value:function(){!function(e,t){var n=bu(e),r=n.queries;n.queries=Dd(),r.forEach((function(e,n){var r,i=ae(n.j_);try{for(i.s();!(r=i.n()).done;){r.value.onError(t)}}catch(a){i.e(a)}finally{i.f()}}))}(this,new Eu(wu.ABORTED,"Firestore shutting down"))}}]),e}();function Dd(){return new Uc((function(e){return Oc(e)}),Rc)}function Md(e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=W(Q().mark((function e(t,n){var r,i,a,o,u;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=bu(t),i=3,a=n.query,(o=r.queries.get(a))?!o.H_()&&n.J_()&&(i=2):(o=new Pd,i=n.J_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,r.onListen(a,!0);case 11:return o.z_=e.sent,e.abrupt("break",19);case 13:return e.next=15,r.onListen(a,!1);case 15:return o.z_=e.sent,e.abrupt("break",19);case 17:return e.next=19,r.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(5),u=Id(e.t1,"Initialization of query '".concat(Pc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 25:r.queries.set(a,o),o.j_.push(n),n.Z_(r.onlineState),o.z_&&n.X_(o.z_)&&Bd(r);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),Fd.apply(this,arguments)}function Ud(e,t){return jd.apply(this,arguments)}function jd(){return jd=W(Q().mark((function e(t,n){var r,i,a,o,u;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=bu(t),i=n.query,a=3,(o=r.queries.get(i))&&(u=o.j_.indexOf(n))>=0&&(o.j_.splice(u,1),0===o.j_.length?a=n.J_()?0:1:!o.H_()&&n.J_()&&(a=2)),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!0)));case 8:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!1)));case 9:return e.abrupt("return",r.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Vd(e,t){var n,r=bu(e),i=!1,a=ae(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ae(s.j_);try{for(l.s();!(c=l.n()).done;){c.value.X_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.z_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Bd(r)}function zd(e,t,n){var r=bu(e),i=r.queries.get(t);if(i){var a,o=ae(i.j_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Bd(e){e.Y_.forEach((function(e){e.next()}))}(Nd=Cd||(Cd={})).ea="default",Nd.Cache="cache";var qd=function(){function e(t,n,r){oe(this,e),this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}return se(e,[{key:"X_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ae(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Od(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.na?this.ia(e)&&(this.ta.next(e),a=!0):this.sa(e,this.onlineState)&&(this.oa(e),a=!0),this.ra=e,a}},{key:"onError",value:function(e){this.ta.error(e)}},{key:"Z_",value:function(e){this.onlineState=e;var t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}},{key:"sa",value:function(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;var n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"ia",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"oa",value:function(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}},{key:"J_",value:function(){return this.options.source!==Cd.Cache}}]),e}();var Hd=se((function e(t){oe(this,e),this.key=t})),Kd=se((function e(t){oe(this,e),this.key=t})),Wd=function(){function e(t,n){oe(this,e),this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xc(),this.mutatedKeys=Xc(),this.Aa=Mc(t),this.Ra=new Ad(this.Aa)}return se(e,[{key:"Va",get:function(){return this.Ta}},{key:"ma",value:function(e,t){var n=this,r=t?t.fa:new Rd,i=t?t.Ra:this.Ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ga(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Aa(f,s)>0||c&&n.Aa(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ra:o,fa:r,ns:u,mutatedKeys:a}}},{key:"ga",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;var o=e.fa.G_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gu()}};return n(e)-n(t)}(e.type,t.type)||i.Aa(e.doc,t.doc)})),this.pa(n),r=null!=r&&r;var u=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,c=s!==this.Ea;return this.Ea=s,0!==o.length||c?{snapshot:new Od(this.query,e.Ra,a,o,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}},{key:"Z_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}},{key:"Sa",value:function(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}},{key:"pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ta=t.Ta.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ta=t.Ta.delete(e)})),this.current=e.current)}},{key:"ya",value:function(){var e=this;if(!this.current)return[];var t=this.da;this.da=Xc(),this.Ra.forEach((function(t){e.Sa(t.key)&&(e.da=e.da.add(t.key))}));var n=[];return t.forEach((function(t){e.da.has(t)||n.push(new Kd(t))})),this.da.forEach((function(e){t.has(e)||n.push(new Hd(e))})),n}},{key:"ba",value:function(e){this.Ta=e.Ts,this.da=Xc();var t=this.ma(e.documents);return this.applyChanges(t,!0)}},{key:"Da",value:function(){return Od.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}]),e}(),Gd=se((function e(t,n,r){oe(this,e),this.query=t,this.targetId=n,this.view=r})),Qd=se((function e(t){oe(this,e),this.key=t,this.va=!1})),Xd=function(){function e(t,n,r,i,a,o){oe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Uc((function(e){return Oc(e)}),Rc),this.Ma=new Map,this.xa=new Set,this.Oa=new hs(Bu.comparator),this.Na=new Map,this.La=new Wf,this.Ba={},this.ka=new Map,this.qa=jf.kn(),this.onlineState="Unknown",this.Qa=void 0}return se(e,[{key:"isPrimaryClient",get:function(){return!0===this.Qa}}]),e}();function Jd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=W(Q().mark((function e(t,n){var r,i,a,o,u=arguments;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>2&&void 0!==u[2])||u[2],i=Rp(t),!(o=i.Fa.get(n))){e.next=7;break}i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Da(),e.next=10;break;case 7:return e.next=9,ep(i,n,r,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function $d(e,t){return Zd.apply(this,arguments)}function Zd(){return(Zd=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.next=3,ep(r,n,!0,!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(e,t,n,r){return tp.apply(this,arguments)}function tp(){return tp=W(Q().mark((function e(t,n,r,i){var a,o,u,s;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(t.localStore,Cc(n));case 2:if(a=e.sent,o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,r),e.t0=i,!e.t0){e.next=10;break}return e.next=9,np(t,n,o,"current"===u,a.resumeToken);case 9:s=e.sent;case 10:return t.isPrimaryClient&&r&&zh(t.remoteStore,a),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t,n,r,i){return rp.apply(this,arguments)}function rp(){return rp=W(Q().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ka=function(e,n,r){return function(){var e=W(Q().mark((function e(t,n,r,i){var a,o,u,s;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ma(r),e.t0=a.ns,!e.t0){e.next=6;break}return e.next=5,mh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ma(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o,u),e.abrupt("return",(_p(t,n.targetId,s.wa),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mh(t.localStore,n,!0);case 3:return o=e.sent,u=new Wd(n,o.Ts),s=u.ma(o.documents),c=Kl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),_p(t,r,l.wa),f=new Gd(n,r,u),e.abrupt("return",(t.Fa.set(n,f),t.Ma.has(r)?t.Ma.get(r).push(n):t.Ma.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e,t,n){return ap.apply(this,arguments)}function ap(){return ap=W(Q().mark((function e(t,n,r){var i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bu(t),a=i.Fa.get(n),!((o=i.Ma.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.Ma.set(a.targetId,o.filter((function(e){return!Rc(e,n)}))),void i.Fa.delete(n)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,ph(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),r&&Bh(i.remoteStore,a.targetId),wp(i,a.targetId)})).catch(Ju);case 9:e.next=14;break;case 11:return wp(i,a.targetId),e.next=14,ph(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){return up.apply(this,arguments)}function up(){return up=W(Q().mark((function e(t,n){var r,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=bu(t),i=r.Fa.get(n),a=r.Ma.get(i.targetId),r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),Bh(r.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e,t,n){return cp.apply(this,arguments)}function cp(){return cp=W(Q().mark((function e(t,n,r){var i,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Op(t),e.prev=1,e.next=4,function(e,t){var n,r,i=bu(e),a=Mu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Xc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Vc(),s=Xc();return i.cs.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ae(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=bl(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new _l(c.key,l,Gs(l.value.mapValue),pl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:qc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ba[e.currentUser.toKey()];r||(r=new hs(Lu)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Tp(i,a.changes);case 9:return e.next=11,od(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Id(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cp.apply(this,arguments)}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=W(Q().mark((function e(t,n){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.prev=1,e.next=4,lh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Na.get(t);n&&(ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.va=!0:e.modifiedDocuments.size>0?ku(n.va):e.removedDocuments.size>0&&(ku(n.va),n.va=!1))})),e.next=8,Tp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ju(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fp.apply(this,arguments)}function hp(e,t,n){var r=bu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Fa.forEach((function(e,n){var r=n.view.Z_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ae(n.j_);try{for(a.s();!(i=a.n()).done;){i.value.Z_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Bd(n)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dp(e,t,n){return pp.apply(this,arguments)}function pp(){return pp=W(Q().mark((function e(t,n,r){var i,a,o,u,s,c;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=bu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Na.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new hs(Bu.comparator)).insert(o,Qs.newNoDocument(o,Fu.min())),s=Xc().add(o),c=new Hl(Fu.min(),new Map,new hs(Lu),u,s),e.next=9,lp(i,c);case 9:i.Oa=i.Oa.remove(o),i.Na.delete(n),Sp(i),e.next=16;break;case 14:return e.next=16,ph(i.localStore,n,!1).then((function(){return wp(i,n,r)})).catch(Ju);case 16:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){return mp.apply(this,arguments)}function mp(){return mp=W(Q().mark((function e(t,n){var r,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),i=n.batch.batchId,e.prev=1,e.next=4,sh(r.localStore,n);case 4:return a=e.sent,bp(r,i,null),kp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Tp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ju(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mp.apply(this,arguments)}function yp(e,t,n){return gp.apply(this,arguments)}function gp(){return gp=W(Q().mark((function e(t,n,r){var i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),e.prev=1,e.next=4,function(e,t){var n=bu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ku(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bp(i,n,r),kp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Tp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ju(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gp.apply(this,arguments)}function kp(e,t){(e.ka.get(t)||[]).forEach((function(e){e.resolve()})),e.ka.delete(t)}function bp(e,t,n){var r=bu(e),i=r.Ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ae(e.Ma.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Fa.delete(a),n&&e.Ca.$a(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((function(t){e.La.containsKey(t)||Ep(e,t)}))}function Ep(e,t){e.xa.delete(t.path.canonicalString());var n=e.Oa.get(t);null!==n&&(Bh(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Sp(e))}function _p(e,t,n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Hd?(e.La.addReference(a.key,t),xp(e,a)):a instanceof Kd?(pu("SyncEngine","Document no longer in limbo: "+a.key),e.La.removeReference(a.key,t),e.La.containsKey(a.key)||Ep(e,a.key)):gu()}}catch(o){i.e(o)}finally{i.f()}}function xp(e,t){var n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(pu("SyncEngine","New document in limbo: "+n),e.xa.add(r),Sp(e))}function Sp(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){var t=e.xa.values().next().value;e.xa.delete(t);var n=new Bu(ju.fromString(t)),r=e.qa.next();e.Na.set(r,new Qd(n)),e.Oa=e.Oa.insert(n,r),zh(e.remoteStore,new Of(Cc(xc(n.path)),r,"TargetPurposeLimboResolution",ts.oe))}}function Tp(e,t,n){return Ip.apply(this,arguments)}function Ip(){return Ip=W(Q().mark((function e(t,n,r){var i,a,o,u;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bu(t),a=[],o=[],u=[],e.t0=i.Fa.isEmpty(),e.t0){e.next=9;break}return i.Fa.forEach((function(e,t){u.push(i.Ka(t,n,r).then((function(e){var n;if((e||r)&&i.isPrimaryClient){var u=e?!e.fromCache:null===(n=null==r?void 0:r.targetChanges.get(t.targetId))||void 0===n?void 0:n.current;i.sharedClientState.updateQueryState(t.targetId,u?"current":"not-current")}if(e){a.push(e);var s=th.Wi(t.targetId,e);o.push(s)}})))})),e.next=6,Promise.all(u);case 6:return i.Ca.d_(a),e.next=9,function(){var e=W(Q().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $u.forEach(n,(function(t){return $u.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $u.forEach(t.Ui,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),es(e.t0)){e.next=10;break}throw e.t0;case 10:pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ae(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.os.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.os=r.os.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Cp(e,t){return Np.apply(this,arguments)}function Np(){return(Np=W(Q().mark((function e(t,n){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=bu(t)).currentUser.isEqual(n)){e.next=11;break}return pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,oh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ka.forEach((function(e){e.forEach((function(e){e.reject(new Eu(wu.CANCELLED,t))}))})),e.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Tp(r,i.hs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e,t){var n=bu(e),r=n.Na.get(t);if(r&&r.va)return Xc().add(r.key);var i=Xc(),a=n.Ma.get(t);if(!a)return i;var o,u=ae(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Fa.get(s);i=i.unionWith(c.view.Va)}}catch(l){u.e(l)}finally{u.f()}return i}function Rp(e){var t=bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dp.bind(null,t),t.Ca.d_=Vd.bind(null,t.eventManager),t.Ca.$a=zd.bind(null,t.eventManager),t}function Op(e){var t=bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yp.bind(null,t),t}var Pp=function(){function e(){oe(this,e),this.kind="memory",this.synchronizeTabs=!1}return se(e,[{key:"initialize",value:function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),e.next=5,this.persistence.start();case 5:this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ja",value:function(e,t){return null}},{key:"Ha",value:function(e,t){return null}},{key:"za",value:function(e){return ah(this.persistence,new rh,e.initialUser,this.serializer)}},{key:"Ga",value:function(e){return new $f(eh.Zr,this.serializer)}},{key:"Wa",value:function(e){return new kh}},{key:"terminate",value:function(){var e=W(Q().mark((function e(){var t,n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Pp.provider={build:function(){return new Pp}};var Lp=function(){function e(){oe(this,e)}return se(e,[{key:"initialize",value:function(){var e=W(Q().mark((function e(t,n){var r=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hp(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,this.syncEngine),e.next=12,Ed(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ld}},{key:"createDatastore",value:function(e){var t=Nh(e.databaseInfo.databaseId),n=function(e){return new Ih(e)}(e.databaseInfo);return function(e,t,n,r){return new Lh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Mh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return hp(t.syncEngine,e,0)}),wh.D()?new wh:new bh)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xd(e,t,n,r,i,a);return o&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=W(Q().mark((function e(){var t,n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bu(t),pu("RemoteStore","RemoteStore shutting down."),n.L_.add(5),e.next=5,jh(n);case 5:n.k_.shutdown(),n.q_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate(),null===(n=this.eventManager)||void 0===n||n.terminate();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Lp.provider={build:function(){return new Lp}};var Dp=function(){function e(t){oe(this,e),this.observer=t,this.muted=!1}return se(e,[{key:"next",value:function(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}},{key:"error",value:function(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vu("Uncaught Error in snapshot listener:",e.toString()))}},{key:"Za",value:function(){this.muted=!0}},{key:"Ya",value:function(e,t){var n=this;setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mp=function(){function e(t,n,r,i,a){var o=this;oe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lu.UNAUTHENTICATED,this.clientId=Pu.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this._uninitializedComponentsProvider=a,this.authCredentials.start(r,function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pu("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return se(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(W(Q().mark((function n(){var r;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Id(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Fp(e,t){return Up.apply(this,arguments)}function Up(){return Up=W(Q().mark((function e(t,n){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pu("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,oh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function jp(e,t){return Vp.apply(this,arguments)}function Vp(){return(Vp=W(Q().mark((function e(t,n){var r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zp(t);case 3:return r=e.sent,pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return bd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return bd(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zp(e){return Bp.apply(this,arguments)}function Bp(){return(Bp=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return pu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Fp(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),function(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n=e.t0)){e.next=13;break}throw n;case 13:return mu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Fp(t,new Pp);case 16:e.next=21;break;case 18:return pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Fp(t,new Pp);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function qp(e){return Hp.apply(this,arguments)}function Hp(){return(Hp=W(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return pu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,jp(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,jp(t,new Lp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kp(e){return qp(e).then((function(e){return e.syncEngine}))}function Wp(e){return Gp.apply(this,arguments)}function Gp(){return(Gp=W(Q().mark((function e(t){var n,r;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jd.bind(null,n.syncEngine),r.onUnlisten=ip.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=$d.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=op.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _u;return e.asyncQueue.enqueueAndForget(W(Q().mark((function i(){return Q().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Dp({next:function(u){a.Za(),t.enqueueAndForget((function(){return Ud(e,o)}));var s=u.docs.has(n);!s&&u.fromCache?i.reject(new Eu(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&u.fromCache&&r&&"server"===r.source?i.reject(new Eu(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(u)},error:function(e){return i.reject(e)}}),o=new qd(xc(n.path),a,{includeMetadataChanges:!0,_a:!0});return Md(e,o)},i.next=3,Wp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Xp(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Jp=new Map;function Yp(e,t,n){if(!n)throw new Eu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $p(e){if(!Bu.isDocumentKey(e))throw new Eu(wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gu()}function ev(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zp(e);throw new Eu(wu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var tv=function(){function e(t){var n,r;if(oe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Eu(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eu(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eu(wu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xp(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return se(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nv=function(){function e(t,n,r,i){oe(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}return se(e,[{key:"app",get:function(){if(!this._app)throw new Eu(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return"notTerminated"!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Eu(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Su;switch(e.type){case"firstParty":return new Nu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eu(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}},{key:"_restart",value:function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("notTerminated"!==this._terminateTask){e.next=5;break}return e.next=3,this._terminate();case 3:e.next=6;break;case 5:this._terminateTask="notTerminated";case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Jp.get(e);t&&(pu("ComponentProvider","Removing Datastore"),Jp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function rv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ev(e,nv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=lu.MOCK_USER;else{u=Se(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Eu(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new lu(c)}e._authCredentials=new Tu(new xu(u,s))}}var iv=function(){function e(t,n,r){oe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return se(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),av=function(){function e(t,n,r){oe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return se(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ov(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ov=function(e){ee(n,e);var t=ie(n);function n(e,r,i){var a;return oe(this,n),(a=t.call(this,e,r,xc(i)))._path=i,a.type="collection",a}return se(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new av(this.firestore,null,new Bu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iv);function uv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Be(e),1===arguments.length&&(t=Pu.newId()),Yp("doc","path",t),e instanceof nv){var a=ju.fromString.apply(ju,[t].concat(r));return $p(a),new av(e,null,new Bu(a))}if(!(e instanceof av||e instanceof ov))throw new Eu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ju.fromString.apply(ju,[t].concat(r)));return $p(o),new av(e.firestore,e instanceof ov?e.converter:null,new Bu(o))}var sv=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();oe(this,e),this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ah(this,"async_queue_retry"),this.Vu=function(){var e=Ch();e&&pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.t_.jo()},this.mu=n;var r=Ch();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}return se(e,[{key:"isShuttingDown",get:function(){return this.Iu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.fu(),this.gu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;var t=Ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}},{key:"enqueue",value:function(e){var t=this;if(this.fu(),this.Iu)return new Promise((function(){}));var n=new _u;return this.gu((function(){return t.Iu&&t.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Pu.push(e),t.pu()}))}},{key:"pu",value:function(){var e=W(Q().mark((function e(){var t=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Pu.length){e.next=14;break}return e.prev=1,e.next=4,this.Pu[0]();case 4:this.Pu.shift(),this.t_.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),es(e.t0)){e.next=12;break}throw e.t0;case 12:pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Pu.length>0&&this.t_.Go((function(){return t.pu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"gu",value:function(e){var t=this,n=this.mu.then((function(){return t.du=!0,e().catch((function(e){t.Eu=e,t.du=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.du=!1,e}))}));return this.mu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.fu(),this.Ru.indexOf(e)>-1&&(t=0);var i=Td.createAndSchedule(this,e,t,n,(function(e){return r.yu(e)}));return this.Tu.push(i),i}},{key:"fu",value:function(){this.Eu&&gu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"wu",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mu,e.next=3,t;case 3:if(t!==this.mu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Su",value:function(e){var t,n=ae(this.Tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"bu",value:function(e){var t=this;return this.wu().then((function(){t.Tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ae(t.Tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.wu()}))}},{key:"Du",value:function(e){this.Ru.push(e)}},{key:"yu",value:function(e){var t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}]),e}();var cv=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a){var o;return oe(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new sv,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return se(n,[{key:"_terminate",value:function(){var e=W(Q().mark((function e(){var t;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._firestoreClient){e.next=6;break}return t=this._firestoreClient.terminate(),this._queue=new sv(t),this._firestoreClient=void 0,e.next=6,t;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nv);function lv(e){if(e._terminated)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fv(e),e._firestoreClient}function fv(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Is(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){var t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}var hv=function(){function e(t){oe(this,e),this._byteString=t}return se(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ks.fromBase64String(t))}catch(t){throw new Eu(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ks.fromUint8Array(t))}}]),e}(),dv=function(){function e(){oe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zu(n)}return se(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pv=se((function e(t){oe(this,e),this._methodName=t})),vv=function(){function e(t,n){if(oe(this,e),!isFinite(t)||t<-90||t>90)throw new Eu(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Eu(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return se(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Lu(this._lat,e._lat)||Lu(this._long,e._long)}}]),e}(),mv=function(){function e(t){oe(this,e),this._values=(t||[]).map((function(e){return e}))}return se(e,[{key:"toArray",value:function(){return this._values.map((function(e){return e}))}},{key:"isEqual",value:function(e){return function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}]),e}(),yv=/^__.*__$/,gv=function(){function e(t,n,r){oe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _l(e,this.data,this.fieldMask,t,this.fieldTransforms):new El(e,this.data,t,this.fieldTransforms)}}]),e}();function kv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gu()}}var bv=function(){function e(t,n,r,i,a,o){oe(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return se(e,[{key:"path",get:function(){return this.settings.path}},{key:"Cu",get:function(){return this.settings.Cu}},{key:"Fu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}},{key:"Nu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}},{key:"Lu",value:function(e){return this.Fu({path:void 0,xu:!0})}},{key:"Bu",value:function(e){return Rv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}},{key:"Ou",value:function(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(kv(this.Cu)&&yv.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}]),e}(),wv=function(){function e(t,n,r){oe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(t)}return se(e,[{key:"Qu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bv({Cu:e,methodName:t,qu:n,path:zu.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ev(e){var t=e._freezeSettings(),n=Nh(e._databaseId);return new wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _v(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);Iv("Data must be an object, but it was:",o,r);var u,s,c=Sv(r,o);if(a.merge)u=new ys(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ae(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Cv(t,d,n);if(!o.contains(p))throw new Eu(wu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ov(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ys(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gv(new Ws(c),u,s)}function xv(e,t){if(Tv(e=Be(e)))return Iv("Unsupported field value:",t,e),Sv(e,t);if(e instanceof pv)return function(e,t){if(!kv(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ae(e);try{for(a.s();!(n=a.n()).done;){var o=xv(n.value,t.Lu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Be(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return el(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Mu.fromDate(e);return{timestampValue:af(t.serializer,n)}}if(e instanceof Mu){var r=new Mu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:af(t.serializer,r)}}if(e instanceof vv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hv)return{bytesValue:of(t.serializer,e._byteString)};if(e instanceof av){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Bu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof mv)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((function(e){if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return $c(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Zp(e)))}(e,t)}function Sv(e,t){var n={};return fs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(e,(function(e,r){var i=xv(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Mu||e instanceof vv||e instanceof hv||e instanceof av||e instanceof pv||e instanceof mv)}function Iv(e,t,n){if(!Tv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Zp(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Cv(e,t,n){if((t=Be(t))instanceof dv)return t._internalPath;if("string"==typeof t)return Av(e,t);throw Rv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Nv=new RegExp("[~\\*/\\[\\]]");function Av(e,t,n){if(t.search(Nv)>=0)throw Rv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return he(dv,le(t.split(".")))._internalPath}catch(Jv){throw Rv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Rv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Eu(wu.INVALID_ARGUMENT,u+e+s)}function Ov(e,t){return e.some((function(e){return e.isEqual(t)}))}var Pv=function(){function e(t,n,r,i,a){oe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return se(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new av(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Dv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Lv=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){return Y(X(n.prototype),"data",this).call(this)}}]),n}(Pv);function Dv(e,t){return"string"==typeof t?Av(e,t):t instanceof dv?t._internalPath:t._delegate._internalPath}var Mv=function(){function e(){oe(this,e)}return se(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return ls(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertVectorValue",value:function(e){var t,n,r,i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((function(e){return Es(e.doubleValue)}));return new mv(i)}},{key:"convertGeoPoint",value:function(e){return new vv(Es(e.latitude),Es(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ss(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ws(e);return new Mu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ju.fromString(e);ku(Rf(n));var r=new Cs(n.get(1),n.get(3)),i=new Bu(n.popFirst(5));return r.isEqual(t)||vu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Fv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Uv=function(){function e(t,n){oe(this,e),this.hasPendingWrites=t,this.fromCache=n}return se(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),jv=function(e){ee(n,e);var t=ie(n);function n(e,r,i,a,o,u){var s;return oe(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return se(n,[{key:"exists",value:function(){return Y(X(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Vv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Pv),Vv=function(e){ee(n,e);var t=ie(n);function n(){return oe(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y(X(n.prototype),"data",this).call(this,e)}}]),n}(jv);function zv(e){e=ev(e,av);var t=ev(e.firestore,cv);return Qp(lv(t),e._key).then((function(n){return Kv(t,e,n)}))}var Bv=function(e){ee(n,e);var t=ie(n);function n(e){var r;return oe(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new hv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new av(this.firestore,null,t)}}]),n}(Mv);function qv(e,t,n){e=ev(e,av);var r=ev(e.firestore,cv),i=Fv(e.converter,t,n);return Hv(r,[_v(Ev(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pl.none())])}function Hv(e,t){return function(e,t){var n=new _u;return e.asyncQueue.enqueueAndForget(W(Q().mark((function r(){return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=sp,r.next=3,Kp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lv(e),t)}function Kv(e,t,n){var r=n.docs.get(t._key),i=new Bv(e);return new jv(e,i,t._key,r,new Uv(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fu=e}(Ft),Rt(new qe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new cv(new Iu(e.getProvider("auth-internal")),new Ru(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Vt(cu,"4.7.3",e),Vt(cu,"4.7.3","esm2017")}();var Wv=Ut({apiKey:"AIzaSyClFhDwwTP_fai-ACLQ2dBmVVLKqaOjPAM",authDomain:"equip9-8ffbf.firebaseapp.com",projectId:"equip9-8ffbf",storageBucket:"equip9-8ffbf.firebasestorage.app",messagingSenderId:"966807752071",appId:"1:966807752071:web:27bd3566ec9bb249c25722"}),Gv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt(),t=Ot(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Yr(e,{popupRedirectResolver:Do,persistence:[Na,ra,aa]}),r=_e("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){var i=new URL(r,location.origin);if(location.origin===i.origin){var a=Qo(i.toString());Ji(n,a,(function(){return a(n.currentUser)})),Xi(n,(function(e){return a(e)}))}}var o=we("auth");return o&&$r(n,"http://".concat(o)),n}(),Qv=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Ot("object"==typeof e?e:jt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=we(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&rv.apply(void 0,[r].concat(le(i)))}return r}(Wv);function Xv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jv(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Jv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var Yv=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Jv(e))&&(r&&(r+=" "),r+=t);return r},$v=["theme","type","isLoading"],Zv=function(e){return"number"==typeof e&&!isNaN(e)},em=function(e){return"string"==typeof e},tm=function(e){return"function"==typeof e},nm=function(e){return em(e)||tm(e)?e:null},rm=function(e){return(0,r.isValidElement)(e)||em(e)||tm(e)||Zv(e)};function im(e){var t=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,u=void 0===o||o,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,o=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=e.playToast,p=a?"".concat(t,"--").concat(o):t,v=a?"".concat(n,"--").concat(o):n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var i;r.target===f.current&&(d(),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,le(n)))};(e=t.classList).add.apply(e,le(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,r.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(s?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,i)}}function am(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var om=new Map,um=[],sm=new Set,cm=function(e){return sm.forEach((function(t){return t(e)}))},lm=function(){return om.size>0};function fm(e,t){var n;if(t)return!(null==(n=om.get(t))||!n.isToastActive(e));var r=!1;return om.forEach((function(t){t.isToastActive(e)&&(r=!0)})),r}function hm(e,t){rm(e)&&(lm()||um.push({content:e,options:t}),om.forEach((function(n){n.buildToast(e,t)})))}function dm(e,t){om.forEach((function(n){null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function pm(e){var t=(0,r.useRef)(function(e){var t=e.containerId||1;return{subscribe:function(n){var i=function(e,t,n){var i=1,a=0,o=[],u=[],s=[],l=t,f=new Map,h=new Set,d=function(){s=Array.from(f.values()),h.forEach((function(e){return e()}))},p=function(e){u=null==e?[]:u.filter((function(t){return t!==e})),d()},v=function(e){var t=e.props,i=t.toastId,a=t.onOpen,o=t.updateId,s=t.children,c=null==o;e.staleId&&f.delete(e.staleId),f.set(i,e),u=[].concat(le(u),[e.props.toastId]).filter((function(t){return t!==e.staleId})),d(),n(am(e,c?"added":"updated")),c&&tm(a)&&a((0,r.isValidElement)(s)&&s.props)};return{id:e,props:l,observe:function(e){return h.add(e),function(){return h.delete(e)}},toggle:function(e,t){f.forEach((function(n){null!=t&&t!==n.props.toastId||tm(n.toggle)&&n.toggle(e)}))},removeToast:p,toasts:f,clearQueue:function(){a-=o.length,o=[]},buildToast:function(t,u){if(!function(t){var n=t.containerId,r=t.toastId,i=t.updateId,a=n?n!==e:1!==e,o=f.has(r)&&null==i;return a||o}(u)){var s=u.toastId,h=u.updateId,m=u.data,y=u.staleId,g=u.delay,k=function(){p(s)},b=null==h;b&&a++;var w,E,_=nt(nt(nt({},l),{},{style:l.toastStyle,key:i++},Object.fromEntries(Object.entries(u).filter((function(e){var t=c(e,2);t[0];return null!=t[1]})))),{},{toastId:s,updateId:h,data:m,closeToast:k,isIn:!1,className:nm(u.className||l.toastClassName),bodyClassName:nm(u.bodyClassName||l.bodyClassName),progressClassName:nm(u.progressClassName||l.progressClassName),autoClose:!u.isLoading&&(w=u.autoClose,E=l.autoClose,!1===w||Zv(w)&&w>0?w:E),deleteToast:function(){var e=f.get(s),t=e.props,i=t.onClose,u=t.children;tm(i)&&i((0,r.isValidElement)(u)&&u.props),n(am(e,"removed")),f.delete(s),--a<0&&(a=0),o.length>0?v(o.shift()):d()}});_.closeButton=l.closeButton,!1===u.closeButton||rm(u.closeButton)?_.closeButton=u.closeButton:!0===u.closeButton&&(_.closeButton=!rm(l.closeButton)||l.closeButton);var x=t;(0,r.isValidElement)(t)&&!em(t.type)?x=(0,r.cloneElement)(t,{closeToast:k,toastProps:_,data:m}):tm(t)&&(x=t({closeToast:k,toastProps:_,data:m}));var S={content:x,props:_,staleId:y};l.limit&&l.limit>0&&a>l.limit&&b?o.push(S):Zv(g)?setTimeout((function(){v(S)}),g):v(S)}},setProps:function(e){l=e},setToggle:function(e,t){f.get(e).toggle=t},isToastActive:function(e){return u.some((function(t){return t===e}))},getSnapshot:function(){return l.newestOnTop?s.reverse():s}}}(t,e,cm);om.set(t,i);var a=i.observe(n);return um.forEach((function(e){return hm(e.content,e.options)})),um=[],function(){a(),om.delete(t)}},setProps:function(e){var n;null==(n=om.get(t))||n.setProps(e)},getSnapshot:function(){var e;return null==(e=om.get(t))?void 0:e.getSnapshot()}}}(e)).current,n=t.subscribe,i=t.getSnapshot;(0,t.setProps)(e);var a=(0,r.useSyncExternalStore)(n,i,i);return{getToastToRender:function(e){if(!a)return[];var t=new Map;return a.forEach((function(e){var n=e.props.position;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(function(t){return e(t[0],t[1])}))},isToastActive:fm,count:null==a?void 0:a.length}}function vm(e){var t=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,u=e.hide,s=e.className,c=e.style,l=e.controlledProgress,f=e.progress,h=e.rtl,d=e.isIn,p=e.theme,v=u||l&&0===f,m=nt(nt({},c),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"});l&&(m.transform="scaleX(".concat(f,")"));var y=Yv("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),g=tm(s)?s({rtl:h,type:o,defaultClassName:y}):Yv(y,s),k=fe({},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&i()});return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(o)}),r.createElement("div",nt({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:g,style:m},k)))}var mm=1,ym=function(){return""+mm++};function gm(e){return e&&(em(e.toastId)||Zv(e.toastId))?e.toastId:ym()}function km(e,t){return hm(e,t),t.toastId}function bm(e,t){return nt(nt({},t),{},{type:t&&t.type||e,toastId:gm(t)})}function wm(e){return function(t,n){return km(t,bm(e,n))}}function Em(e,t){return km(e,bm("default",t))}Em.loading=function(e,t){return km(e,bm("default",nt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Em.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=em(i)?Em.loading(i,n):Em.loading(i.render,nt(nt({},n),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){if(null!=t){var a=nt(nt(nt({type:e},u),n),{},{data:i}),o=em(t)?{render:t}:t;return r?Em.update(r,nt(nt({},a),o)):Em(o.render,nt(nt({},a),o)),i}Em.dismiss(r)},c=tm(e)?e():e;return c.then((function(e){return s("success",o,e)})).catch((function(e){return s("error",a,e)})),c},Em.success=wm("success"),Em.info=wm("info"),Em.error=wm("error"),Em.warning=wm("warning"),Em.warn=Em.warning,Em.dark=function(e,t){return km(e,bm("default",nt({theme:"dark"},t)))},Em.dismiss=function(e){!function(e){var t;if(lm()){if(null==e||em(t=e)||Zv(t))om.forEach((function(t){t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){var n=om.get(e.containerId);n?n.removeToast(e.id):om.forEach((function(t){t.removeToast(e.id)}))}}else um=um.filter((function(t){return null!=e&&t.options.toastId!==e}))}(e)},Em.clearWaitingQueue=function(e){void 0===e&&(e={}),om.forEach((function(t){!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},Em.isActive=fm,Em.update=function(e,t){void 0===t&&(t={});var n=function(e,t){var n,r=t.containerId;return null==(n=om.get(r||1))?void 0:n.toasts.get(e)}(e,t);if(n){var r=n.props,i=n.content,a=nt(nt(nt({delay:100},r),t),{},{toastId:t.toastId||e,updateId:ym()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,km(o,a)}},Em.done=function(e){Em.update(e,{progress:1})},Em.onChange=function(e){return sm.add(e),function(){sm.delete(e)}},Em.play=function(e){return dm(!0,e)},Em.pause=function(e){return dm(!1,e)};var _m="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,xm=function(e){var t=e.theme,n=e.type,i=(e.isLoading,Xv(e,$v));return r.createElement("svg",nt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},i))},Sm={info:function(e){return r.createElement(xm,nt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(xm,nt({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(xm,nt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(xm,nt({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},Tm=function(e){var t=function(e){var t,n,i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)(!1),2),s=u[0],l=u[1],f=(0,r.useRef)(null),h=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,d=e.autoClose,p=e.pauseOnHover,v=e.closeToast,m=e.onClick,y=e.closeOnClick;function g(){o(!0)}function k(){o(!1)}function b(t){var n=f.current;h.canDrag&&n&&(h.didMove=!0,a&&k(),h.delta="x"===e.draggableDirection?t.clientX-h.start:t.clientY-h.start,h.start!==t.clientX&&(h.canCloseOnClick=!1),n.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(h.delta,"px, var(--y)"):"0, calc(".concat(h.delta,"px + var(--y))"),",0)"),n.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function w(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w);var t=f.current;if(h.canDrag&&h.didMove&&t){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return l(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(n=om.get((t={id:e.toastId,containerId:e.containerId,fn:o}).containerId||1))||n.setToggle(t.id,t.fn),(0,r.useEffect)((function(){if(e.pauseOnFocusLoss)return document.hasFocus()||k(),window.addEventListener("focus",g),window.addEventListener("blur",k),function(){window.removeEventListener("focus",g),window.removeEventListener("blur",k)}}),[e.pauseOnFocusLoss]);var E={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){h.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w);var n=f.current;h.canCloseOnClick=!0,h.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(h.start=t.clientX,h.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(h.start=t.clientY,h.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){var n=f.current.getBoundingClientRect(),r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=o&&t.clientY>=r&&t.clientY<=i?k():g()}};return d&&p&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=g)),y&&(E.onClick=function(e){m&&m(e),h.canCloseOnClick&&v()}),{playToast:g,pauseToast:k,isRunning:a,preventExitTransition:s,toastRef:f,eventHandlers:E}}(e),n=t.isRunning,i=t.preventExitTransition,a=t.toastRef,o=t.eventHandlers,u=t.playToast,s=e.closeButton,l=e.children,f=e.autoClose,h=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,k=e.style,b=e.bodyClassName,w=e.bodyStyle,E=e.progressClassName,_=e.progressStyle,x=e.updateId,S=e.role,T=e.progress,I=e.rtl,C=e.toastId,N=e.deleteToast,A=e.isIn,R=e.isLoading,O=e.closeOnClick,P=e.theme,L=Yv("Toastify__toast","Toastify__toast-theme--".concat(P),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":O}),D=tm(g)?g({rtl:I,position:y,type:d,defaultClassName:L}):Yv(L,g),M=function(e){var t=e.theme,n=e.type,i=e.isLoading,a=e.icon,o=null,u={theme:t,type:n};return!1===a||(tm(a)?o=a(nt(nt({},u),{},{isLoading:i})):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,u):i?o=Sm.spinner():function(e){return e in Sm}(n)&&(o=Sm[n](u))),o}(e),F=!!T||!f,U={closeToast:v,type:d,theme:P},j=null;return!1===s||(j=tm(s)?s(U):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,U):function(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),r.createElement(m,{isIn:A,done:N,position:y,preventExitTransition:i,nodeRef:a,playToast:u},r.createElement("div",nt(nt({id:C,onClick:h,"data-in":A,className:D},o),{},{style:k,ref:a}),r.createElement("div",nt(nt({},A&&{role:S}),{},{className:tm(b)?b({type:d}):Yv("Toastify__toast-body",b),style:w}),null!=M&&r.createElement("div",{className:Yv("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},M),r.createElement("div",null,l)),j,r.createElement(vm,nt(nt({},x&&!F?{key:"pb-".concat(x)}:{}),{},{rtl:I,theme:P,delay:f,isRunning:n,isIn:A,closeToast:v,hide:p,type:d,style:_,className:E,controlledProgress:F,progress:T||0}))))},Im=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Cm=im(Im("bounce",!0)),Nm=(im(Im("slide",!0)),im(Im("zoom")),im(Im("flip")),{position:"top-right",transition:Cm,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function Am(e){var t=nt(nt({},Nm),e),n=e.stacked,i=c((0,r.useState)(!0),2),a=i[0],o=i[1],u=(0,r.useRef)(null),s=pm(t),l=s.getToastToRender,f=s.isToastActive,h=s.count,d=t.className,p=t.style,v=t.rtl,m=t.containerId;function y(e){var t=Yv("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":v});return tm(d)?d({position:e,rtl:v,defaultClassName:t}):Yv(t,nm(d))}function g(){n&&(o(!0),Em.play())}return _m((function(){if(n){var e,r=u.current.querySelectorAll('[data-in="true"]'),i=null==(e=t.position)?void 0:e.includes("top"),o=0,s=0;Array.from(r).reverse().forEach((function(e,t){var n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(a)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");var r=o*(a?.2:1)+(a?0:12*t);n.style.setProperty("--y","".concat(i?r:-1*r,"px")),n.style.setProperty("--g","".concat(12)),n.style.setProperty("--s",""+(1-(a?s:0))),o+=n.offsetHeight,s+=.025}))}}),[a,h,n]),r.createElement("div",{ref:u,className:"Toastify",id:m,onMouseEnter:function(){n&&(o(!1),Em.pause())},onMouseLeave:g},l((function(e,t){var i=t.length?nt({},p):nt(nt({},p),{},{pointerEvents:"none"});return r.createElement("div",{className:y(e),style:i,key:"container-".concat(e)},t.map((function(e){var t=e.content,i=e.props;return r.createElement(Tm,nt(nt({},i),{},{stacked:n,collapseAll:g,isIn:f(i.toastId,i.containerId),style:i.style,key:"toast-".concat(i.key)}),t)})))})))}var Rm=n(184);var Om=function(){return(0,Rm.jsxs)("div",{children:[(0,Rm.jsx)("p",{className:"continue-p",children:"--Or continue with--"}),(0,Rm.jsx)("div",{style:{display:"flex",justifyContent:"center",cursor:"pointer"},onClick:function(){var e=new Ii;Ha(Gv,e).then(function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),n=t.user,!t.user){e.next=7;break}return e.next=5,qv(uv(Qv,"Users",n.uid),{email:n.email,firstName:n.displayName,photo:n.photoURL,lastName:""});case 5:Em.success("User logged in Successfully",{position:"top-center"}),window.location.href="/profile";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:(0,Rm.jsx)("img",{src:n(318),width:"60%"})})]})};var Pm=function(){return(0,Rm.jsxs)("div",{children:[(0,Rm.jsx)("p",{className:"continue-p",children:"--Or continue with--"}),(0,Rm.jsx)("div",{style:{display:"flex",justifyContent:"center",cursor:"pointer"},onClick:function(){var e=new Ti;Ha(Gv,e).then(function(){var e=W(Q().mark((function e(t){var n;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(n=t.user)){e.next=7;break}return e.next=5,qv(uv(Qv,"Users",n.uid),{email:n.email,firstName:n.displayName,photo:n.photoURL,lastName:""});case 5:Em.success("User logged in successfully!",{position:"top-center"}),window.location.href="/profile";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error during Facebook sign-in:",e),Em.error("Facebook sign-in failed.",{position:"top-center"})}))},children:(0,Rm.jsx)("img",{src:n(43),width:"60%"})})]})};var Lm=function(){return(0,Rm.jsxs)("div",{children:[(0,Rm.jsx)("p",{className:"continue-p",children:"--Or continue with--"}),(0,Rm.jsx)("div",{style:{display:"flex",justifyContent:"center",cursor:"pointer"},onClick:function(){var e=new Si("apple.com");Ha(Gv,e).then(function(){var e=W(Q().mark((function e(t){var n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(n=t.user)){e.next=8;break}return i=(null===(r=t.additionalUserInfo)||void 0===r?void 0:r.profile)||{},e.next=6,qv(uv(Qv,"Users",n.uid),{email:n.email||i.email||"No email",firstName:i.firstName||"User",lastName:i.lastName||"",photo:n.photoURL||""});case 6:Em.success("User logged in successfully!",{position:"top-center"}),window.location.href="/profile";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error during Apple sign-in:",e),Em.error("Apple sign-in failed.",{position:"top-center"})}))},children:(0,Rm.jsx)("img",{src:n(706),width:"60%"})})]})};var Dm=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=function(){var e=W(Q().mark((function e(n){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Qi(Gv,t,a);case 4:console.log("User logged in Successfully"),window.location.href="/profile",Em.success("User logged in Successfully",{position:"top-center"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),Em.error(e.t0.message,{position:"bottom-center"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,Rm.jsxs)("form",{onSubmit:u,children:[(0,Rm.jsx)("h3",{children:"Login"}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Email address"}),(0,Rm.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:t,onChange:function(e){return n(e.target.value)}})]}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Password"}),(0,Rm.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,Rm.jsx)("div",{className:"d-grid",children:(0,Rm.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})}),(0,Rm.jsxs)("p",{className:"forgot-password text-right",children:["New user ",(0,Rm.jsx)("a",{href:"/register",children:"Register Here"})]}),(0,Rm.jsx)(Om,{}),(0,Rm.jsx)(Pm,{}),(0,Rm.jsx)(Lm,{})]})};function Mm(e,t){return function(){return e.apply(t,arguments)}}var Fm,Um=Object.prototype.toString,jm=Object.getPrototypeOf,Vm=(Fm=Object.create(null),function(e){var t=Um.call(e);return Fm[t]||(Fm[t]=t.slice(8,-1).toLowerCase())}),zm=function(e){return e=e.toLowerCase(),function(t){return Vm(t)===e}},Bm=function(e){return function(t){return typeof t===e}},qm=Array.isArray,Hm=Bm("undefined");var Km=zm("ArrayBuffer");var Wm=Bm("string"),Gm=Bm("function"),Qm=Bm("number"),Xm=function(e){return null!==e&&"object"===typeof e},Jm=function(e){if("object"!==Vm(e))return!1;var t=jm(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ym=zm("Date"),$m=zm("File"),Zm=zm("Blob"),ey=zm("FileList"),ty=zm("URLSearchParams"),ny=c(["ReadableStream","Request","Response","Headers"].map(zm),4),ry=ny[0],iy=ny[1],ay=ny[2],oy=ny[3];function uy(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qm(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function sy(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var cy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ly=function(e){return!Hm(e)&&e!==cy};var fy,hy=(fy="undefined"!==typeof Uint8Array&&jm(Uint8Array),function(e){return fy&&e instanceof fy}),dy=zm("HTMLFormElement"),py=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),vy=zm("RegExp"),my=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};uy(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},yy="abcdefghijklmnopqrstuvwxyz",gy="0123456789",ky={DIGIT:gy,ALPHA:yy,ALPHA_DIGIT:yy+yy.toUpperCase()+gy};var by=zm("AsyncFunction"),wy=function(e,t){return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],cy.addEventListener("message",(function(e){var t=e.source,i=e.data;t===cy&&i===n&&r.length&&r.shift()()}),!1),function(e){r.push(e),cy.postMessage(n,"*")}):function(e){return setTimeout(e)};var n,r}("function"===typeof setImmediate,Gm(cy.postMessage)),Ey="undefined"!==typeof queueMicrotask?queueMicrotask.bind(cy):"undefined"!==typeof process&&process.nextTick||wy,_y={isArray:qm,isArrayBuffer:Km,isBuffer:function(e){return null!==e&&!Hm(e)&&null!==e.constructor&&!Hm(e.constructor)&&Gm(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Gm(e.append)&&("formdata"===(t=Vm(e))||"object"===t&&Gm(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Km(e.buffer)},isString:Wm,isNumber:Qm,isBoolean:function(e){return!0===e||!1===e},isObject:Xm,isPlainObject:Jm,isReadableStream:ry,isRequest:iy,isResponse:ay,isHeaders:oy,isUndefined:Hm,isDate:Ym,isFile:$m,isBlob:Zm,isRegExp:vy,isFunction:Gm,isStream:function(e){return Xm(e)&&Gm(e.pipe)},isURLSearchParams:ty,isTypedArray:hy,isFileList:ey,forEach:uy,merge:function e(){for(var t=ly(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&sy(r,i)||i;Jm(r[a])&&Jm(t)?r[a]=e(r[a],t):Jm(t)?r[a]=e({},t):qm(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&uy(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return uy(t,(function(t,r){n&&Gm(t)?e[r]=Mm(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&jm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Vm,kindOfTest:zm,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(qm(e))return e;var t=e.length;if(!Qm(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:dy,hasOwnProperty:py,hasOwnProp:py,reduceDescriptors:my,freezeMethods:function(e){my(e,(function(t,n){if(Gm(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Gm(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return qm(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:sy,global:cy,isContextDefined:ly,ALPHABET:ky,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ky.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Gm(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Xm(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=qm(n)?[]:{};return uy(n,(function(t,n){var a=e(t,r+1);!Hm(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:by,isThenable:function(e){return e&&(Xm(e)||Gm(e))&&Gm(e.then)&&Gm(e.catch)},setImmediate:wy,asap:Ey};function xy(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_y.inherits(xy,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_y.toJSONObject(this.config),code:this.code,status:this.status}}});var Sy=xy.prototype,Ty={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Ty[e]={value:e}})),Object.defineProperties(xy,Ty),Object.defineProperty(Sy,"isAxiosError",{value:!0}),xy.from=function(e,t,n,r,i,a){var o=Object.create(Sy);return _y.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),xy.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Iy=xy;function Cy(e){return _y.isPlainObject(e)||_y.isArray(e)}function Ny(e){return _y.endsWith(e,"[]")?e.slice(0,-2):e}function Ay(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ny(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ry=_y.toFlatObject(_y,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Oy=function(e,t,n){if(!_y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=_y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!_y.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_y.isSpecCompliantForm(t);if(!_y.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(_y.isDate(e))return e.toISOString();if(!u&&_y.isBlob(e))throw new Iy("Blob is not supported. Use a Buffer instead.");return _y.isArrayBuffer(e)||_y.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(_y.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(_y.isArray(e)&&function(e){return _y.isArray(e)&&!e.some(Cy)}(e)||(_y.isFileList(e)||_y.endsWith(n,"[]"))&&(u=_y.toArray(e)))return n=Ny(n),u.forEach((function(e,r){!_y.isUndefined(e)&&null!==e&&t.append(!0===o?Ay([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!Cy(e)||(t.append(Ay(i,n,a),s(e)),!1)}var l=[],f=Object.assign(Ry,{defaultVisitor:c,convertValue:s,isVisitable:Cy});if(!_y.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!_y.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),_y.forEach(n,(function(n,a){!0===(!(_y.isUndefined(n)||null===n)&&i.call(t,n,_y.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function Py(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ly(e,t){this._pairs=[],e&&Oy(e,this,t)}var Dy=Ly.prototype;Dy.append=function(e,t){this._pairs.push([e,t])},Dy.toString=function(e){var t=e?function(t){return e.call(this,t,Py)}:Py;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var My=Ly;function Fy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Uy(e,t,n){if(!t)return e;var r=n&&n.encode||Fy;_y.isFunction(n)&&(n={serialize:n});var i,a=n&&n.serialize;if(i=a?a(t,n):_y.isURLSearchParams(t)?t.toString():new My(t,n).toString(r)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var jy=function(){function e(){oe(this,e),this.handlers=[]}return se(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){_y.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Vy=jy,zy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},By={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:My,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qy="undefined"!==typeof window&&"undefined"!==typeof document,Hy="object"===typeof navigator&&navigator||void 0,Ky=qy&&(!Hy||["ReactNative","NativeScript","NS"].indexOf(Hy.product)<0),Wy="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gy=qy&&window.location.href||"http://localhost",Qy=nt(nt({},e),By);var Xy=function(e){function t(e,n,r,i){var a=e[i++];if("__proto__"===a)return!0;var o=Number.isFinite(+a),u=i>=e.length;return a=!a&&_y.isArray(r)?r.length:a,u?(_y.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&_y.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&_y.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(_y.isFormData(e)&&_y.isFunction(e.entries)){var n={};return _y.forEachEntry(e,(function(e,r){t(function(e){return _y.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var Jy={transitional:zy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=_y.isObject(e);if(a&&_y.isHTMLForm(e)&&(e=new FormData(e)),_y.isFormData(e))return i?JSON.stringify(Xy(e)):e;if(_y.isArrayBuffer(e)||_y.isBuffer(e)||_y.isStream(e)||_y.isFile(e)||_y.isBlob(e)||_y.isReadableStream(e))return e;if(_y.isArrayBufferView(e))return e.buffer;if(_y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Oy(e,new Qy.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Qy.isNode&&_y.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=_y.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Oy(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(_y.isString(e))try{return(t||JSON.parse)(e),_y.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Jy.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(_y.isResponse(e)||_y.isReadableStream(e))return e;if(e&&_y.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Iy.from(a,Iy.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qy.classes.FormData,Blob:Qy.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_y.forEach(["delete","get","head","post","put","patch"],(function(e){Jy.headers[e]={}}));var Yy=Jy,$y=_y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zy=Symbol("internals");function eg(e){return e&&String(e).trim().toLowerCase()}function tg(e){return!1===e||null==e?e:_y.isArray(e)?e.map(tg):String(e)}function ng(e,t,n,r,i){return _y.isFunction(r)?r.call(this,t,n):(i&&(t=n),_y.isString(t)?_y.isString(r)?-1!==t.indexOf(r):_y.isRegExp(r)?r.test(t):void 0:void 0)}var rg=function(e,t){function n(e){oe(this,n),e&&this.set(e)}return se(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=eg(t);if(!i)throw new Error("header name must be a non-empty string");var a=_y.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=tg(e))}var a=function(e,t){return _y.forEach(e,(function(e,n){return i(e,n,t)}))};if(_y.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(_y.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&$y[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t);else if(_y.isHeaders(e)){var o,u=ae(e.entries());try{for(u.s();!(o=u.n()).done;){var s=c(o.value,2),l=s[0];i(s[1],l,n)}}catch(f){u.e(f)}finally{u.f()}}else null!=e&&i(t,e,n);return this}},{key:"get",value:function(e,t){if(e=eg(e)){var n=_y.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(_y.isFunction(t))return t.call(this,r,n);if(_y.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=eg(e)){var n=_y.findKey(this,e);return!(!n||void 0===this[n]||t&&!ng(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=eg(e)){var i=_y.findKey(n,e);!i||t&&!ng(0,n[i],i,t)||(delete n[i],r=!0)}}return _y.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!ng(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return _y.forEach(this,(function(r,i){var a=_y.findKey(n,i);if(a)return t[a]=tg(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=tg(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return _y.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&_y.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=c(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Zy]=this[Zy]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=eg(e);t[r]||(!function(e,t){var n=_y.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return _y.isArray(e)?e.forEach(r):r(e),this}}]),n}();rg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_y.reduceDescriptors(rg.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),_y.freezeMethods(rg);var ig=rg;function ag(e,t){var n=this||Yy,r=t||n,i=ig.from(r.headers),a=r.data;return _y.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function og(e){return!(!e||!e.__CANCEL__)}function ug(e,t,n){Iy.call(this,null==e?"canceled":e,Iy.ERR_CANCELED,t,n),this.name="CanceledError"}_y.inherits(ug,Iy,{__CANCEL__:!0});var sg=ug;function cg(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Iy("Request failed with status code "+n.status,[Iy.ERR_BAD_REQUEST,Iy.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var lg=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};var fg=function(e,t){var n,r,i=0,a=1e3/t,o=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];t>=a?o(s,e):(n=s,r||(r=setTimeout((function(){r=null,o(n)}),a-t)))},function(){return n&&o(n)}]},hg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=lg(50,250);return fg((function(n){var a=n.loaded,o=n.lengthComputable?n.total:void 0,u=a-r,s=i(u);r=a;var c=fe({loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:n,lengthComputable:null!=o},t?"download":"upload",!0);e(c)}),n)},dg=function(e,t){var n=null!=e;return[function(r){return t[0]({lengthComputable:n,total:e,loaded:r})},t[1]]},pg=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _y.asap((function(){return e.apply(void 0,n)}))}};var vg=Qy.hasStandardBrowserEnv?function(e,t){return function(n){return n=new URL(n,Qy.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)}}(new URL(Qy.origin),Qy.navigator&&/(msie|trident)/i.test(Qy.navigator.userAgent)):function(){return!0},mg=Qy.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];_y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_y.isString(r)&&o.push("path="+r),_y.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function yg(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var gg=function(e){return e instanceof ig?nt({},e):e};function kg(e,t){t=t||{};var n={};function r(e,t,n,r){return _y.isPlainObject(e)&&_y.isPlainObject(t)?_y.merge.call({caseless:r},e,t):_y.isPlainObject(t)?_y.merge({},t):_y.isArray(t)?t.slice():t}function i(e,t,n,i){return _y.isUndefined(t)?_y.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!_y.isUndefined(t))return r(void 0,t)}function o(e,t){return _y.isUndefined(t)?_y.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t,n){return i(gg(e),gg(t),0,!0)}};return _y.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);_y.isUndefined(o)&&a!==u||(n[r]=o)})),n}var bg=function(e){var t,n,r=kg({},e),i=r.data,o=r.withXSRFToken,c=r.xsrfHeaderName,l=r.xsrfCookieName,f=r.headers,h=r.auth;if(r.headers=f=ig.from(f),r.url=Uy(yg(r.baseURL,r.url),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),_y.isFormData(i))if(Qy.hasStandardBrowserEnv||Qy.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(!1!==(t=f.getContentType())){var d=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],p=a(n=d)||ce(n)||u(n)||s(),v=p[0],m=p.slice(1);f.setContentType([v||"multipart/form-data"].concat(le(m)).join("; "))}if(Qy.hasStandardBrowserEnv&&(o&&_y.isFunction(o)&&(o=o(r)),o||!1!==o&&vg(r.url))){var y=c&&l&&mg.read(l);y&&f.set(c,y)}return r},wg="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a,o,u,s=bg(e),l=s.data,f=ig.from(s.headers).normalize(),h=s.responseType,d=s.onUploadProgress,p=s.onDownloadProgress;function v(){o&&o(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(r),s.signal&&s.signal.removeEventListener("abort",r)}var m=new XMLHttpRequest;function y(){if(m){var r=ig.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cg((function(e){t(e),v()}),(function(e){n(e),v()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}}if(m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(n(new Iy("Request aborted",Iy.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Iy("Network Error",Iy.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){var t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",r=s.transitional||zy;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new Iy(t,r.clarifyTimeoutError?Iy.ETIMEDOUT:Iy.ECONNABORTED,e,m)),m=null},void 0===l&&f.setContentType(null),"setRequestHeader"in m&&_y.forEach(f.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),_y.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),h&&"json"!==h&&(m.responseType=s.responseType),p){var g=c(hg(p,!0),2);a=g[0],u=g[1],m.addEventListener("progress",a)}if(d&&m.upload){var k=c(hg(d),2);i=k[0],o=k[1],m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",o)}(s.cancelToken||s.signal)&&(r=function(t){m&&(n(!t||t.type?new sg(null,e,m):t),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(r),s.signal&&(s.signal.aborted?r():s.signal.addEventListener("abort",r)));var b=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);b&&-1===Qy.protocols.indexOf(b)?n(new Iy("Unsupported protocol "+b+":",Iy.ERR_BAD_REQUEST,e)):m.send(l||null)}))},Eg=function(e,t){var n=(e=e?e.filter(Boolean):[]).length;if(t||n){var r,i=new AbortController,a=function(e){if(!r){r=!0,u();var t=e instanceof Error?e:this.reason;i.abort(t instanceof Iy?t:new sg(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){o=null,a(new Iy("timeout ".concat(t," of ms exceeded"),Iy.ETIMEDOUT))}),t),u=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",a)}));var s=i.signal;return s.unsubscribe=function(){return _y.asap(u)},s}};function _g(e){this.wrapped=e}function xg(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,u=o instanceof _g;Promise.resolve(u?o.wrapped:o).then((function(e){u?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(s){i("throw",s)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var u={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}function Sg(e){return function(){return new xg(e.apply(this,arguments))}}function Tg(e){return new _g(e)}function Ig(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function Cg(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ng(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ng(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ng=function(e){this.s=e,this.n=e.next},Ng.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ng(e)}xg.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},xg.prototype.next=function(e){return this._invoke("next",e)},xg.prototype.throw=function(e){return this._invoke("throw",e)},xg.prototype.return=function(e){return this._invoke("return",e)};var Ag,Rg,Og=G.mark((function e(t,n){var r,i,a;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.byteLength,n&&!(r<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<r)){e.next=13;break}return a=i+n,e.next=10,t.slice(i,a);case 10:i=a,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),Pg=function(){var e=Sg(G.mark((function e(t,n){var r,i,a,o,u,s;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,o=Cg(Lg(t));case 4:return e.next=6,Tg(o.next());case 6:if(!(r=!(u=e.sent).done)){e.next=12;break}return s=u.value,e.delegateYield(Ig(Cg(Og(s,n)),Tg),"t0",9);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,a=e.t1;case 18:if(e.prev=18,e.prev=19,!r||null==o.return){e.next=23;break}return e.next=23,Tg(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}(),Lg=function(){var e=Sg(G.mark((function e(t){var n,r,i,a;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(Ig(Cg(t),Tg),"t0",2);case 2:return e.abrupt("return");case 3:n=t.getReader(),e.prev=4;case 5:return e.next=7,Tg(n.read());case 7:if(r=e.sent,i=r.done,a=r.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,a;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,Tg(n.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),Dg=function(e,t,n,r){var i,a=Pg(e,t),o=0,u=function(e){i||(i=!0,r&&r(e))};return new ReadableStream({pull:function(e){return W(G.mark((function t(){var r,i,s,c,l;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.next();case 3:if(r=t.sent,i=r.done,s=r.value,!i){t.next=10;break}return u(),e.close(),t.abrupt("return");case 10:c=s.byteLength,n&&(l=o+=c,n(l)),e.enqueue(new Uint8Array(s)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),u(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return u(e),a.return()}},{highWaterMark:2})},Mg="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Fg=Mg&&"function"===typeof ReadableStream,Ug=Mg&&("function"===typeof TextEncoder?(Ag=new TextEncoder,function(e){return Ag.encode(e)}):function(){var e=W(G.mark((function e(t){return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jg=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(i){return!1}},Vg=Fg&&jg((function(){var e=!1,t=new Request(Qy.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),zg=Fg&&jg((function(){return _y.isReadableStream(new Response("").body)})),Bg={stream:zg&&function(e){return e.body}};Mg&&(Rg=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!Bg[e]&&(Bg[e]=_y.isFunction(Rg[e])?function(t){return t[e]()}:function(t,n){throw new Iy("Response type '".concat(e,"' is not supported"),Iy.ERR_NOT_SUPPORT,n)})})));var qg=function(){var e=W(G.mark((function e(t){var n;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!_y.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!_y.isSpecCompliantForm(t)){e.next=9;break}return n=new Request(Qy.origin,{method:"POST",body:t}),e.next=8,n.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!_y.isArrayBufferView(t)&&!_y.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(_y.isURLSearchParams(t)&&(t+=""),!_y.isString(t)){e.next=16;break}return e.next=15,Ug(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hg=function(){var e=W(G.mark((function e(t,n){var r;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_y.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?qg(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kg=Mg&&function(){var e=W(G.mark((function e(t){var n,r,i,a,o,u,s,l,f,h,d,p,v,m,y,g,k,b,w,E,_,x,S,T,I,C,N,A,R,O,P,L,D,M;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=bg(t),r=n.url,i=n.method,a=n.data,o=n.signal,u=n.cancelToken,s=n.timeout,l=n.onDownloadProgress,f=n.onUploadProgress,h=n.responseType,d=n.headers,p=n.withCredentials,v=void 0===p?"same-origin":p,m=n.fetchOptions,h=h?(h+"").toLowerCase():"text",y=Eg([o,u&&u.toAbortSignal()],s),k=y&&y.unsubscribe&&function(){y.unsubscribe()},e.prev=4,e.t0=f&&Vg&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,Hg(d,a);case 9:e.t1=b=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}w=new Request(r,{method:"POST",body:a,duplex:"half"}),_y.isFormData(a)&&(E=w.headers.get("content-type"))&&d.setContentType(E),w.body&&(_=dg(b,hg(pg(f))),x=c(_,2),S=x[0],T=x[1],a=Dg(w.body,65536,S,T));case 15:return _y.isString(v)||(v=v?"include":"omit"),I="credentials"in Request.prototype,g=new Request(r,nt(nt({},m),{},{signal:y,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:I?v:void 0})),e.next=20,fetch(g);case 20:return C=e.sent,N=zg&&("stream"===h||"response"===h),zg&&(l||N&&k)&&(A={},["status","statusText","headers"].forEach((function(e){A[e]=C[e]})),R=_y.toFiniteNumber(C.headers.get("content-length")),O=l&&dg(R,hg(pg(l),!0))||[],P=c(O,2),L=P[0],D=P[1],C=new Response(Dg(C.body,65536,L,(function(){D&&D(),k&&k()})),A)),h=h||"text",e.next=26,Bg[_y.findKey(Bg,h)||"text"](C,t);case 26:return M=e.sent,!N&&k&&k(),e.next=30,new Promise((function(e,n){cg(e,n,{data:M,headers:ig.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:g})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),k&&k(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new Iy("Network Error",Iy.ERR_NETWORK,t,g),{cause:e.t2.cause||e.t2});case 38:throw Iy.from(e.t2,e.t2&&e.t2.code,t,g);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),Wg={http:null,xhr:wg,fetch:Kg};_y.forEach(Wg,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Gg=function(e){return"- ".concat(e)},Qg=function(e){return _y.isFunction(e)||null===e||!1===e},Xg=function(e){for(var t,n,r=(e=_y.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var o=void 0;if(n=t=e[a],!Qg(t)&&void 0===(n=Wg[(o=String(t)).toLowerCase()]))throw new Iy("Unknown adapter '".concat(o,"'"));if(n)break;i[o||"#"+a]=n}if(!n){var u=Object.entries(i).map((function(e){var t=c(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),s=r?u.length>1?"since :\n"+u.map(Gg).join("\n"):" "+Gg(u[0]):"as no adapter specified";throw new Iy("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function Jg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sg(null,e)}function Yg(e){return Jg(e),e.headers=ig.from(e.headers),e.data=ag.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xg(e.adapter||Yy.adapter)(e).then((function(t){return Jg(e),t.data=ag.call(e,e.transformResponse,t),t.headers=ig.from(t.headers),t}),(function(t){return og(t)||(Jg(e),t&&t.response&&(t.response.data=ag.call(e,e.transformResponse,t.response),t.response.headers=ig.from(t.response.headers))),Promise.reject(t)}))}var $g="1.7.9",Zg={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Zg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ek={};Zg.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Iy(r(i," has been removed"+(t?" in "+t:"")),Iy.ERR_DEPRECATED);return t&&!ek[i]&&(ek[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},Zg.spelling=function(e){return function(t,n){return console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0}};var tk={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Iy("options must be an object",Iy.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Iy("option "+a+" must be "+s,Iy.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Iy("Unknown option "+a,Iy.ERR_BAD_OPTION)}},validators:Zg},nk=tk.validators,rk=function(){function e(t){oe(this,e),this.defaults=t,this.interceptors={request:new Vy,response:new Vy}}return se(e,[{key:"request",value:function(){var e=W(G.mark((function e(t,n){var r,i;return G.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){r={},Error.captureStackTrace?Error.captureStackTrace(r):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(a){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=kg(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&tk.assertOptions(r,{silentJSONParsing:nk.transitional(nk.boolean),forcedJSONParsing:nk.transitional(nk.boolean),clarifyTimeoutError:nk.transitional(nk.boolean)},!1),null!=i&&(_y.isFunction(i)?t.paramsSerializer={serialize:i}:tk.assertOptions(i,{encode:nk.function,serialize:nk.function},!0)),tk.assertOptions(t,{baseUrl:nk.spelling("baseURL"),withXsrfToken:nk.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&_y.merge(a.common,a[t.method]);a&&_y.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=ig.concat(o,a);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Yg.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=Yg.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return Uy(yg((e=kg(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();_y.forEach(["delete","get","head","options"],(function(e){rk.prototype[e]=function(t,n){return this.request(kg(n||{},{method:e,url:t,data:(n||{}).data}))}})),_y.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(kg(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}rk.prototype[e]=t(),rk.prototype[e+"Form"]=t(!0)}));var ik=rk,ak=function(){function e(t){if(oe(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new sg(e,t,i),n(r.reason))}))}return se(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,n=function(e){t.abort(e)};return this.subscribe(n),t.signal.unsubscribe=function(){return e.unsubscribe(n)},t.signal}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),ok=ak;var uk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uk).forEach((function(e){var t=c(e,2),n=t[0],r=t[1];uk[r]=n}));var sk=uk;var ck=function e(t){var n=new ik(t),r=Mm(ik.prototype.request,n);return _y.extend(r,ik.prototype,n,{allOwnKeys:!0}),_y.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(kg(t,n))},r}(Yy);ck.Axios=ik,ck.CanceledError=sg,ck.CancelToken=ok,ck.isCancel=og,ck.VERSION=$g,ck.toFormData=Oy,ck.AxiosError=Iy,ck.Cancel=ck.CanceledError,ck.all=function(e){return Promise.all(e)},ck.spread=function(e){return function(t){return e.apply(null,t)}},ck.isAxiosError=function(e){return _y.isObject(e)&&!0===e.isAxiosError},ck.mergeConfig=kg,ck.AxiosHeaders=ig,ck.formToJSON=function(e){return Xy(_y.isHTMLForm(e)?new FormData(e):e)},ck.getAdapter=Xg,ck.HttpStatusCode=sk,ck.default=ck;var lk=ck;var fk=function(){var e=c((0,r.useState)({email:"",password:"",mobileNo:"",firstName:"",lastName:""}),2),t=e[0],n=e[1],i=function(e){var r=e.target,i=r.name,a=r.value;n(nt(nt({},t),{},fe({},i,a)))},a=function(){var e=W(Q().mark((function e(n){var r,i,a,o,u,s,c,l;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.email,i=t.password,a=t.mobileNo,o=t.firstName,u=t.lastName,r&&i&&o&&a){e.next=5;break}return Em.error("Please fill out all required fields.",{position:"top-center"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,Wi(Gv,r,i);case 8:if(s=e.sent,!(c=s.user)){e.next=16;break}return l={email:c.email,firstName:o,lastName:u,mobileNo:a},e.next=14,lk.post("http://localhost:4000/upload-book",l);case 14:201===e.sent.status?Em.success("User registered and data saved successfully!",{position:"top-center"}):Em.error("Failed to save user data in the database.",{position:"bottom-center"});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),console.error("Error during registration:",e.t0.message),Em.error(e.t0.message||"Registration failed. Please try again.",{position:"bottom-center"});case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,Rm.jsxs)("form",{onSubmit:a,children:[(0,Rm.jsx)("h3",{children:"Sign Up"}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"First Name"}),(0,Rm.jsx)("input",{type:"text",name:"firstName",className:"form-control",placeholder:"Enter first name",value:t.firstName,onChange:i,required:!0})]}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Last Name"}),(0,Rm.jsx)("input",{type:"text",name:"lastName",className:"form-control",placeholder:"Enter last name",value:t.lastName,onChange:i})]}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Mobile No"}),(0,Rm.jsx)("input",{type:"tel",name:"mobileNo",className:"form-control",placeholder:"Enter mobile number",value:t.mobileNo,onChange:i,required:!0})]}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Email Address"}),(0,Rm.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Enter email",value:t.email,onChange:i,required:!0})]}),(0,Rm.jsxs)("div",{className:"mb-3",children:[(0,Rm.jsx)("label",{children:"Password"}),(0,Rm.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Enter password",value:t.password,onChange:i,required:!0})]}),(0,Rm.jsx)("div",{className:"d-grid",children:(0,Rm.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})}),(0,Rm.jsxs)("p",{className:"forgot-password text-right",children:["Already registered? ",(0,Rm.jsx)("a",{href:"/login",children:"Login"})]})]})};var hk=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1],i=function(){var e=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gv.onAuthStateChanged(function(){var e=W(Q().mark((function e(t){var r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=uv(Qv,"Users",t.uid),e.next=4,zv(r);case 4:(i=e.sent).exists()?(n(i.data()),console.log(i.data())):console.log("User is not logged in");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function a(){return(a=W(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gv.signOut();case 3:window.location.href="/login",console.log("User logged out successfully!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error logging out:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){i()}),[]),(0,Rm.jsx)("div",{children:t?(0,Rm.jsxs)(Rm.Fragment,{children:[(0,Rm.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Rm.jsx)("img",{src:t.photo,width:"40%",style:{borderRadius:"50%"}})}),(0,Rm.jsxs)("h3",{children:["Welcome ",t.firstName," \ud83d\ude4f\ud83d\ude4f"]}),(0,Rm.jsxs)("div",{children:[(0,Rm.jsxs)("p",{children:["Email: ",t.email]}),(0,Rm.jsxs)("p",{children:["First Name: ",t.firstName]})]}),(0,Rm.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.apply(this,arguments)},children:"Logout"})]}):(0,Rm.jsx)("p",{children:"Loading..."})})};var dk=function(){var e=c((0,r.useState)(),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){Gv.onAuthStateChanged((function(e){n(e)}))})),(0,Rm.jsx)(H,{children:(0,Rm.jsx)("div",{className:"App",children:(0,Rm.jsx)("div",{className:"auth-wrapper",children:(0,Rm.jsxs)("div",{className:"auth-inner",children:[(0,Rm.jsxs)(B,{children:[(0,Rm.jsx)(V,{path:"/",element:t?(0,Rm.jsx)(j,{to:"/profile"}):(0,Rm.jsx)(Dm,{})}),(0,Rm.jsx)(V,{path:"/login",element:(0,Rm.jsx)(Dm,{})}),(0,Rm.jsx)(V,{path:"/register",element:(0,Rm.jsx)(fk,{})}),(0,Rm.jsx)(V,{path:"/google-signin",element:(0,Rm.jsx)(Om,{})}),(0,Rm.jsx)(V,{path:"/profile",element:t?(0,Rm.jsx)(hk,{}):(0,Rm.jsx)(j,{to:"/login"})})]}),(0,Rm.jsx)(Am,{})]})})})})},pk=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Rm.jsx)(r.StrictMode,{children:(0,Rm.jsx)(dk,{})})),pk()}()}();
//# sourceMappingURL=main.17d87e18.js.map